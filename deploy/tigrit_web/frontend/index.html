<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#1a1610">
  <title>–î–µ—Ä–µ–≤–Ω—è –¢–∏–≥—Ä–∏—Ç</title>
  <link rel="stylesheet" href="./src/styles.css">
</head>
<body>
<div id="app">

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       –®–ê–ü–ö–ê
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <header>
    <div class="header-logo">
      <span>üêØ –¢–ò–ì–†–ò–¢</span>
    </div>

    <nav>
      <button class="nav-btn" :class="{ active: activeTab === 'village' }"  @click="activeTab = 'village'">üèòÔ∏è<span class="nav-label"> –î–µ—Ä–µ–≤–Ω—è</span></button>
      <button class="nav-btn" :class="{ active: activeTab === 'players' }"  @click="activeTab = 'players'">üë•<span class="nav-label"> –ò–≥—Ä–æ–∫–∏</span></button>
      <button class="nav-btn" :class="{ active: activeTab === 'events' }"   @click="activeTab = 'events'">‚ö°<span class="nav-label"> –°–æ–±—ã—Ç–∏—è</span></button>
      <button class="nav-btn" :class="{ active: activeTab === 'world' }"    @click="activeTab = 'world'">üåç<span class="nav-label"> –ú–∏—Ä</span></button>
      <button class="nav-btn" :class="{ active: activeTab === 'chat' }"     @click="activeTab = 'chat'">üí¨<span class="nav-label"> –ß–∞—Ç</span></button>
      <button class="nav-btn" :class="{ active: activeTab === 'editor' }"   @click="activeTab = 'editor'">üó∫Ô∏è<span class="nav-label"> –ö–∞—Ä—Ç–∞</span></button>
      <button class="nav-btn" :class="{ active: activeTab === 'items' }"    @click="activeTab = 'items'">üéí<span class="nav-label"> –ü—Ä–µ–¥–º–µ—Ç—ã</span></button>
      <button class="nav-btn" :class="{ active: activeTab === 'commands' }" @click="activeTab = 'commands'">ü§ñ<span class="nav-label"> –ö–æ–º–∞–Ω–¥—ã</span></button>
      <button class="nav-btn nav-admin" :class="{ active: activeTab === 'admin' }"  @click="activeTab = 'admin'">üõ°Ô∏è<span class="nav-label"> –ê–¥–º–∏–Ω</span></button>
    </nav>

    <div class="header-actions">
      <div class="api-status">
        <div class="status-dot" :style="{ background: apiOnline ? '#5a8a3c' : '#8a3c3c', boxShadow: apiOnline ? '0 0 6px #5a8a3c' : '0 0 6px #8a3c3c' }"></div>
        <span>{{ apiOnline ? 'API' : '–û—Ñ–ª–∞–π–Ω' }}</span>
      </div>
      <button class="btn-instructions" @click="openInstructions">üìñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</button>
      <a href="https://stakingphxpw.com" target="_blank" rel="noopener" class="btn btn-secondary btn-sm">Village Era ‚Üó</a>
    </div>
  </header>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <main>

    <!-- –ë–∞–Ω–Ω–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API -->
    <div v-if="villageApiError"
      style="background:rgba(239,68,68,0.15);border:1px solid rgba(239,68,68,0.4);border-radius:6px;padding:8px 14px;margin-bottom:8px;font-size:12px;color:#ef4444;display:flex;align-items:center;gap:8px">
      ‚ö†Ô∏è API –¥–µ—Ä–µ–≤–Ω–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
      <button class="btn btn-ghost btn-sm" @click="fetchVillageData" style="margin-left:auto">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å</button>
    </div>

    <!-- ‚îÄ‚îÄ‚îÄ –î–ï–†–ï–í–ù–Ø ‚îÄ‚îÄ‚îÄ -->
    <div v-if="activeTab === 'village'" class="tab-content">
      <div class="village-layout">

        <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å: –∫–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
        <div class="village-stats-panel">

          <!-- –£—Ä–æ–≤–µ–Ω—å –¥–µ—Ä–µ–≤–Ω–∏ -->
          <div class="card">
            <div class="card-title">üè∞ –î–µ—Ä–µ–≤–Ω—è</div>
            <div class="card-value">–£—Ä. {{ village.level }}</div>
            <div class="card-sub">{{ village.name || '–¢–∏–≥—Ä–∏—Ç' }}</div>
            <div class="progress-wrap" style="margin-top:10px">
              <div class="progress-label">
                <span>–ü—Ä–æ–≥—Ä–µ—Å—Å –¥–æ –£—Ä.{{ village.level + 1 }}</span>
                <span>{{ village.xp || 0 }} / {{ (village.level || 1) * 1000 }}</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" :style="{ width: villageXpPercent + '%' }"></div>
              </div>
            </div>
          </div>

          <!-- –°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ -->
          <div class="card build-card" v-if="village.build_name">
            <div class="card-title">üî® –°—Ç—Ä–æ–π–∫–∞</div>
            <div style="font-weight:600;font-size:14px;color:var(--text-primary);margin-bottom:8px">
              {{ village.build_name }}
            </div>
            <div class="progress-wrap">
              <div class="progress-label">
                <span>–ü—Ä–æ–≥—Ä–µ—Å—Å</span>
                <span>{{ village.build_progress || 0 }}%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" :style="{ width: (village.build_progress || 0) + '%' }"></div>
              </div>
            </div>
          </div>

          <!-- –†–µ—Å—É—Ä—Å—ã -->
          <div class="card">
            <div class="card-title">üì¶ –†–µ—Å—É—Ä—Å—ã</div>
            <div class="resources-row">
              <div class="resource-item" v-for="res in resourceList" :key="res.key">
                <div class="resource-name"><span>{{ res.icon }}</span>{{ res.label }}</div>
                <div class="resource-val" :class="res.cls">{{ res.value }}</div>
              </div>
              <div class="resource-item" v-if="!resourceList.length" style="color:var(--text-muted)">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</div>
            </div>
          </div>

          <!-- –ù–∞—Å–µ–ª–µ–Ω–∏–µ -->
          <div class="card">
            <div class="card-title">üë• –ù–∞—Å–µ–ª–µ–Ω–∏–µ</div>
            <div class="card-value">{{ village.population }} <span style="font-size:16px;color:var(--text-muted)">/ {{ village.population_max || '‚Äî' }}</span></div>
            <div class="progress-wrap" v-if="village.population_max" style="margin-top:8px">
              <div class="progress-bar">
                <div class="progress-fill" :class="populationCls" :style="{ width: populationPercent + '%' }"></div>
              </div>
            </div>
            <div class="card-sub" style="margin-top:4px">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: {{ village.activity }}</div>
          </div>

        </div>

        <!-- –ö–∞—Ä—Ç–∞ (PIXI) -->
        <div class="village-map-panel">

          <!-- –ü–∞–Ω–µ–ª—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞ –≤–∏–¥–∞ -->
          <div class="view-mode-bar">
            <span style="font-size:12px;color:var(--text-muted)">
              {{ viewMode === 'top' ? 'üó∫Ô∏è –í–∏–¥ —Å–≤–µ—Ä—Ö—É' : 'üéÆ –í–∏–¥ –æ—Ç 3-–≥–æ –ª–∏—Ü–∞' }}
            </span>
            <!-- TEST-MODE: –∫–Ω–æ–ø–∫–∞ –≤–∏–¥–Ω–∞ –≤—Å–µ–º. –ü–æ–∑–∂–µ –∑–∞–º–µ–Ω–∏—Ç—å canToggleViewMode() –Ω–∞ hasSubscription -->
            <button
              class="btn btn-sm"
              :class="viewMode === 'third' ? 'btn-primary' : 'btn-ghost'"
              @click="toggleViewMode"
              :title="viewModeTest ? '–¢–µ—Å—Ç-—Ä–µ–∂–∏–º: –¥–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º' : (hasSubscription ? '–ü—Ä–µ–º–∏—É–º: —Å–º–µ–Ω–∞ —Ä–µ–∂–∏–º–∞' : '–¢–æ–ª—å–∫–æ –¥–ª—è Premium-–ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤')"
            >
              {{ viewMode === 'top' ? 'üéÆ 3-–µ –ª–∏—Ü–æ' : 'üó∫Ô∏è –í–∏–¥ —Å–≤–µ—Ä—Ö—É' }}
              <span v-if="viewModeTest" style="font-size:9px;opacity:0.6;margin-left:4px">TEST</span>
            </button>
          </div>

          <div id="map-container"></div>

          <div v-if="mapLoading" class="empty-state" style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)">
            <div class="skeleton" style="width:80px;height:80px;border-radius:8px"></div>
            <div class="empty-state-text">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç—ã‚Ä¶</div>
          </div>

          <!-- HUD —Ä–µ–∂–∏–º–∞ 3-–≥–æ –ª–∏—Ü–∞ -->
          <div v-if="viewMode === 'third'" class="third-person-hud">

            <!-- HP –∏ –ú–∞–Ω–∞ -->
            <div class="hud-bars">
              <div class="hud-bar-row">
                <span class="hud-bar-label">‚ù§Ô∏è</span>
                <div class="hud-bar">
                  <div class="hud-bar-fill hud-hp" :style="{ width: Math.round(playerHP / playerMaxHP * 100) + '%' }"></div>
                </div>
                <span class="hud-bar-val">{{ playerHP }}/{{ playerMaxHP }}</span>
              </div>
              <div class="hud-bar-row">
                <span class="hud-bar-label">üíß</span>
                <div class="hud-bar">
                  <div class="hud-bar-fill hud-mana" :style="{ width: Math.round(playerMana / playerMaxMana * 100) + '%' }"></div>
                </div>
                <span class="hud-bar-val">{{ playerMana }}/{{ playerMaxMana }}</span>
              </div>
            </div>

            <!-- –ü–∞–Ω–µ–ª—å —Å–∫–∏–ª–ª–æ–≤ -->
            <div class="hud-skills">
              <div
                class="hud-skill"
                v-for="skill in skills"
                :key="skill.id"
                :class="{ 'on-cooldown': skill.cd > 0 }"
                @click="activateSkill(skill.id)"
                :title="skill.name + ' [' + skill.key + ']'"
              >
                <div class="hud-skill-icon">{{ skill.icon }}</div>
                <div class="hud-skill-key">{{ skill.key }}</div>
                <div v-if="skill.cd > 0" class="hud-skill-cd">{{ skill.cd }}</div>
              </div>
            </div>

            <!-- WASD-–ø–æ–¥—Å–∫–∞–∑–∫–∞ –∏ –ª–æ–≥ –±–æ—è -->
            <div class="hud-info">
              <div style="font-size:10px;color:rgba(255,255,255,0.5);margin-bottom:4px">WASD / ‚Üë‚Üì‚Üê‚Üí ‚Äî –¥–≤–∏–∂–µ–Ω–∏–µ ¬∑ –ö–ª–∏–∫ –ø–æ —Ç–∞–π–ª—É</div>
              <div class="hud-combat-log">
                <div v-for="entry in combatLog.slice(0,4)" :key="entry.id" class="hud-log-entry">
                  {{ entry.text }}
                </div>
              </div>
            </div>

          </div>

        </div>

        <!-- –õ–æ–≥ —Å–æ–±—ã—Ç–∏–π -->
        <div class="village-log-panel card">
          <div class="card-title" style="margin-bottom:10px">üìú –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è</div>
          <div class="event-log-strip" v-if="events.length">
            <div class="log-item" v-for="ev in events.slice(0, 10)" :key="ev.id">
              <div class="log-item-time">{{ formatRelative(ev.ts) }}</div>
              <div class="log-item-text">
                <span style="color:var(--accent-gold)">{{ getEventType(ev.kind) }}</span>:
                {{ truncate(ev.payload || ev.title || '', 60) }}
              </div>
            </div>
          </div>
          <div class="empty-state" v-else>
            <div class="empty-state-icon">üì≠</div>
            <div class="empty-state-text">–ù–µ—Ç —Å–æ–±—ã—Ç–∏–π</div>
          </div>
        </div>

      </div>
    </div>

    <!-- ‚îÄ‚îÄ‚îÄ –ò–ì–†–û–ö–ò ‚îÄ‚îÄ‚îÄ -->
    <div v-if="activeTab === 'players'" class="tab-content">
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;flex-wrap:wrap;gap:10px">
        <h2>üë• –ò–≥—Ä–æ–∫–∏ –¥–µ—Ä–µ–≤–Ω–∏</h2>
        <div class="players-filters">
          <select class="filter-select" v-model="playerSort">
            <option value="xp">–ü–æ XP</option>
            <option value="level">–ü–æ —É—Ä–æ–≤–Ω—é</option>
            <option value="online">–û–Ω–ª–∞–π–Ω —Å–Ω–∞—á–∞–ª–∞</option>
          </select>
          <select class="filter-select" v-model="playerFilterRace">
            <option value="">–í—Å–µ —Ä–∞—Å—ã</option>
            <option value="Human">–õ—é–¥–∏</option>
            <option value="Elf">–≠–ª—å—Ñ—ã</option>
            <option value="Dwarf">–î–≤–æ—Ä—Ñ—ã</option>
          </select>
        </div>
      </div>

      <!-- –°–∫–µ–ª–µ—Ç–æ–Ω—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ -->
      <div class="players-grid" v-if="playersLoading">
        <div class="card skeleton" style="height:140px" v-for="i in 6" :key="i"></div>
      </div>

      <div class="players-grid" v-else>
        <div
          class="player-card"
          v-for="(player, idx) in filteredPlayers"
          :key="player.user_id || player.id"
          @click="openPlayerProfile(player)"
        >
          <div class="player-card-header">
            <div class="player-rank" :class="rankClass(idx)">
              #{{ idx + 1 }}
            </div>
            <div class="player-avatar" :style="{ background: playerColor(player) }">
              {{ (player.username || '?')[0].toUpperCase() }}
            </div>
            <div style="flex:1;min-width:0">
              <div class="player-name">@{{ player.username || 'anon' }}</div>
              <div class="player-sub">{{ player.race || '‚Äî' }} ¬∑ {{ player.clazz || '‚Äî' }}</div>
            </div>
            <span class="badge" :class="player.is_online ? 'badge-online' : 'badge-offline'">
              {{ player.is_online ? '‚óè –û–Ω–ª–∞–π–Ω' : '‚óã –û—Ñ–ª–∞–π–Ω' }}
            </span>
          </div>

          <!-- XP-–±–∞—Ä -->
          <div class="progress-wrap">
            <div class="progress-label">
              <span>–£—Ä. {{ player.level || 1 }}</span>
              <span>{{ player.xp || 0 }} XP</span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill teal" :style="{ width: playerXpPercent(player) + '%' }"></div>
            </div>
          </div>

          <div class="player-stats-row">
            <div class="player-stat" v-if="player.job">üîß <strong>{{ player.job }}</strong></div>
            <div class="player-stat" v-if="player.friends_count != null">üë• <strong>{{ player.friends_count }}</strong></div>
            <div class="player-stat" v-if="player.house">üè† <strong>{{ player.house.name || `(${player.house.x},${player.house.y})` }}</strong></div>
            <div class="player-stat" v-if="player.token_balance != null">
              <span style="color:var(--token-color)">üíé {{ player.token_balance }}</span>
            </div>
          </div>
        </div>

        <div class="empty-state" v-if="!filteredPlayers.length">
          <div class="empty-state-icon">üë§</div>
          <div class="empty-state-text">–ù–µ—Ç –∏–≥—Ä–æ–∫–æ–≤</div>
        </div>
      </div>
    </div>

    <!-- ‚îÄ‚îÄ‚îÄ –°–û–ë–´–¢–ò–Ø ‚îÄ‚îÄ‚îÄ -->
    <div v-if="activeTab === 'events'" class="tab-content">

      <!-- –°–≤–æ–¥–∫–∞ -->
      <div class="events-summary-bar">
        <div class="summary-item">‚ö° <strong>{{ activeEvents.length }}</strong> –∞–∫—Ç–∏–≤–Ω—ã—Ö</div>
        <div class="summary-item">üë• <strong>{{ onlinePlayers }}</strong> –æ–Ω–ª–∞–π–Ω</div>
        <div class="summary-item">üìã <strong>{{ events.length }}</strong> –≤ –∂—É—Ä–Ω–∞–ª–µ</div>
      </div>

      <!-- –ê–∫—Ç–∏–≤–Ω—ã–µ –∏–≤–µ–Ω—Ç—ã -->
      <h2>–ê–∫—Ç–∏–≤–Ω—ã–µ –∏–≤–µ–Ω—Ç—ã</h2>
      <div class="active-events-row" v-if="activeEvents.length">
        <div
          class="event-card-active"
          :class="ev.type || ev.kind"
          v-for="ev in activeEvents"
          :key="ev.id"
        >
          <div class="event-header" style="display:flex;align-items:center;justify-content:space-between">
            <span class="badge" :class="eventBadgeClass(ev.type || ev.kind)">
              {{ getEventTypeLabel(ev.type || ev.kind) }}
            </span>
          </div>
          <div class="event-title">{{ ev.name || ev.title }}</div>
          <div class="event-desc">{{ ev.description || '' }}</div>
          <div class="event-countdown" v-if="ev.end_ts">
            ‚è± {{ formatCountdown(ev.end_ts) }}
          </div>
          <div class="event-reward" v-if="ev.reward">
            üíé –ù–∞–≥—Ä–∞–¥–∞: {{ ev.reward }}
          </div>
          <div style="display:flex;gap:6px;margin-top:4px">
            <a
              :href="'https://t.me/PHXPW?start=evt_' + ev.id"
              target="_blank" rel="noopener"
              class="btn btn-telegram btn-sm"
            >–í –±–æ—Ç ‚Üí</a>
            <span v-if="ev.entry_cost" class="btn btn-token btn-sm">
              üíé {{ ev.entry_cost }} —Ç–æ–∫–µ–Ω–æ–≤
            </span>
          </div>
        </div>
      </div>
      <div class="empty-state" v-else>
        <div class="empty-state-icon">üéØ</div>
        <div class="empty-state-text">–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≤–µ–Ω—Ç–æ–≤</div>
      </div>

      <!-- –ñ—É—Ä–Ω–∞–ª -->
      <h2 style="margin-top:24px">üìú –ñ—É—Ä–Ω–∞–ª –¥–µ—Ä–µ–≤–Ω–∏</h2>

      <div class="journal-filters">
        <button class="btn btn-sm" :class="journalFilter === '' ? 'btn-primary' : 'btn-ghost'" @click="journalFilter = ''">–í—Å–µ</button>
        <button class="btn btn-sm" :class="journalFilter === 'event' ? 'btn-primary' : 'btn-ghost'" @click="journalFilter = 'event'">–°–∏—Å—Ç–µ–º–Ω—ã–µ</button>
        <button class="btn btn-sm" :class="journalFilter === 'dialogue' ? 'btn-primary' : 'btn-ghost'" @click="journalFilter = 'dialogue'">–î–∏–∞–ª–æ–≥–∏</button>
        <button class="btn btn-sm" :class="journalFilter === 'external' ? 'btn-primary' : 'btn-ghost'" @click="journalFilter = 'external'">–í–Ω–µ—à–Ω–∏–µ</button>
      </div>

      <div class="journal-list">
        <div class="journal-item" v-for="ev in filteredJournal" :key="ev.id">
          <div class="journal-time">{{ formatRelative(ev.ts) }}</div>
          <div class="journal-icon">{{ eventIcon(ev.kind) }}</div>
          <div class="journal-text">
            <strong v-if="ev.title">{{ ev.title }} ‚Äî </strong>{{ ev.payload || '' }}
          </div>
        </div>
        <div class="empty-state" v-if="!filteredJournal.length">
          <div class="empty-state-icon">üì≠</div>
          <div class="empty-state-text">–ù–µ—Ç –∑–∞–ø–∏—Å–µ–π</div>
        </div>
      </div>

    </div>

    <!-- ‚îÄ‚îÄ‚îÄ –ú–ò–† (–ó–û–ù–´) ‚îÄ‚îÄ‚îÄ -->
    <div v-if="activeTab === 'world'" class="tab-content">

      <!-- –°–≤–æ–¥–∫–∞ –º–∏—Ä–∞ -->
      <div class="world-summary">
        <div class="summary-item">üåç <strong>{{ zones.length }}</strong> –∑–æ–Ω –ø–æ–¥–∫–ª—é—á–µ–Ω–æ</div>
        <div class="summary-item">üü¢ <strong>{{ zonesOnline }}</strong> –∞–∫—Ç–∏–≤–Ω—ã</div>
        <div class="summary-item">üë• <strong>{{ zonesTotalPlayers }}</strong> –∏–≥—Ä–æ–∫–æ–≤ –≤ –º–∏—Ä–µ</div>
        <div class="summary-item" style="margin-left:auto">
          <span style="font-size:11px;color:var(--text-muted)">–ó–æ–Ω–∞ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º XP:</span>
          <strong style="color:var(--accent-gold);margin-left:6px">{{ bestXpZone?.name || '‚Äî' }}</strong>
          <span v-if="bestXpZone" class="zone-xp-badge" style="margin-left:6px">√ó{{ bestXpZone.xp_multiplier }}</span>
        </div>
      </div>

      <div class="world-layout">

        <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: —Å–ø–∏—Å–æ–∫ –∑–æ–Ω -->
        <div class="zones-list-panel">
          <div class="zones-filter-row">
            <button class="btn btn-sm" :class="worldFilter === '' ? 'btn-primary' : 'btn-ghost'" @click="worldFilter = ''">–í—Å–µ</button>
            <button class="btn btn-sm" :class="worldFilter === 'starter' ? 'btn-primary' : 'btn-ghost'" @click="worldFilter = 'starter'">‚≠ê –°—Ç–∞—Ä—Ç–æ–≤—ã–µ</button>
            <button class="btn btn-sm" :class="worldFilter === 'community' ? 'btn-primary' : 'btn-ghost'" @click="worldFilter = 'community'">üë• –°–æ–æ–±—â–µ—Å—Ç–≤–∞</button>
          </div>

          <!-- –°–∫–µ–ª–µ—Ç–æ–Ω—ã –∑–∞–≥—Ä—É–∑–∫–∏ -->
          <template v-if="zonesLoading">
            <div class="card skeleton" style="height:110px" v-for="i in 4" :key="i"></div>
          </template>

          <div
            class="zone-card"
            :class="[zone.type, { selected: activeZoneId === zone.id }]"
            v-for="zone in filteredZones"
            :key="zone.id"
            @click="selectZone(zone.id)"
          >
            <div class="zone-card-header">
              <div class="zone-name">{{ zone.name }}</div>
              <span class="zone-type-badge" :class="zone.type">
                {{ zone.type === 'starter' ? '‚≠ê –°—Ç–∞—Ä—Ç–æ–≤–∞—è' : 'üë• –°–æ–æ–±—â–µ—Å—Ç–≤–æ' }}
              </span>
            </div>

            <div class="zone-desc">{{ zone.description }}</div>

            <div class="zone-stats-row">
              <div class="zone-stat">
                üü¢ <strong>{{ zone.players_online }}</strong> –æ–Ω–ª–∞–π–Ω
              </div>
              <div class="zone-stat">
                üë• <strong>{{ zone.total_players }}</strong> –≤—Å–µ–≥–æ
              </div>
              <div class="zone-xp-mult" :class="xpMultClass(zone.xp_multiplier)">
                XP √ó{{ zone.xp_multiplier }}
              </div>
            </div>

            <div style="display:flex;gap:6px;margin-top:2px">
              <button
                class="btn btn-sm"
                :class="activeZoneId === zone.id ? 'btn-primary' : 'btn-secondary'"
                @click.stop="selectZone(zone.id); activeTab = 'chat'"
              >
                {{ activeZoneId === zone.id ? '‚úì –í—ã–±—Ä–∞–Ω–∞' : 'üí¨ –í–æ–π—Ç–∏ –≤ —á–∞—Ç' }}
              </button>
              <a
                :href="joinZoneLink(zone)"
                target="_blank" rel="noopener"
                class="btn btn-telegram btn-sm"
                @click.stop
              >‚Üó –í –±–æ—Ç</a>
            </div>
          </div>

          <div class="empty-state" v-if="!zonesLoading && !filteredZones.length">
            <div class="empty-state-icon">üåç</div>
            <div class="empty-state-text">–ù–µ—Ç –∑–æ–Ω –ø–æ —Ñ–∏–ª—å—Ç—Ä—É</div>
          </div>
        </div>

        <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –∫–∞—Ä—Ç–∞ –∑–æ–Ω -->
        <div class="zone-map-panel">
          <div class="zone-map-title">üó∫Ô∏è –ö–∞—Ä—Ç–∞ –º–∏—Ä–∞ –¢–∏–≥—Ä–∏—Ç</div>
          <div class="zone-map" ref="zoneMapEl">
            <!-- SVG –ª–∏–Ω–∏–∏-—Å–≤—è–∑–∏ -->
            <svg>
              <line
                v-for="link in zoneLinks"
                :key="link.id"
                :x1="link.x1 + '%'" :y1="link.y1 + '%'"
                :x2="link.x2 + '%'" :y2="link.y2 + '%'"
                class="zone-link"
                :class="{ active: link.active }"
              />
            </svg>
            <!-- –£–∑–ª—ã –∑–æ–Ω -->
            <div
              class="zone-node"
              :class="[zone.type, { 'active-zone': activeZoneId === zone.id }]"
              v-for="zone in zonesWithCoords"
              :key="zone.id"
              :style="{ left: zone.mapX + '%', top: zone.mapY + '%' }"
              @click="selectZone(zone.id)"
              :title="zone.name"
            >
              <div class="zone-node-circle">
                {{ zone.type === 'starter' ? '‚≠ê' : 'üë•' }}
              </div>
              <div class="zone-node-label">{{ zone.name }}</div>
            </div>
          </div>
          <div style="font-size:11px;color:var(--text-muted);text-align:center;padding-top:4px">
            –ö–ª–∏–∫–Ω–∏ –Ω–∞ –∑–æ–Ω—É —á—Ç–æ–±—ã –≤–æ–π—Ç–∏ –≤ —á–∞—Ç ‚Ä¢ –ü—É–Ω–∫—Ç–∏—Ä = —Å–≤—è–∑—å –º–µ–∂–¥—É –∑–æ–Ω–∞–º–∏
          </div>
        </div>

      </div>
    </div>

    <!-- ‚îÄ‚îÄ‚îÄ –û–ë–©–ï–ù–ò–ï + XP-–ü–†–û–ö–ê–ß–ö–ê ‚îÄ‚îÄ‚îÄ -->
    <div v-if="activeTab === 'chat'" class="tab-content">
      <div class="chat-layout">

        <!-- –ß–∞—Ç-–ø–∞–Ω–µ–ª—å -->
        <div class="chat-panel">

          <!-- –°–µ–ª–µ–∫—Ç–æ—Ä –∑–æ–Ω—ã -->
          <div class="zone-selector-bar">
            <div class="zone-selector">
              <span class="zone-selector-label">–ó–æ–Ω–∞:</span>
              <select class="zone-select-dropdown" v-model="activeZoneId" @change="onZoneChange">
                <option v-for="z in zones" :key="z.id" :value="z.id">{{ z.name }}</option>
                <option v-if="!zones.length" value="">–ó–∞–≥—Ä—É–∑–∫–∞ –∑–æ–Ω‚Ä¶</option>
              </select>
              <span class="zone-xp-badge" v-if="activeZone">XP √ó{{ activeZone.xp_multiplier }}</span>
            </div>
            <div class="zone-info-row" v-if="activeZone">
              <div class="zone-info-item">üü¢ <strong>{{ activeZone.players_online }}</strong> –æ–Ω–ª–∞–π–Ω</div>
              <div class="zone-info-item">
                <span class="zone-type-badge" :class="activeZone.type" style="font-size:9px">
                  {{ activeZone.type === 'starter' ? '‚≠ê –°—Ç–∞—Ä—Ç–æ–≤–∞—è' : 'üë• –°–æ–æ–±—â–µ—Å—Ç–≤–æ' }}
                </span>
              </div>
              <div class="zone-info-item" style="margin-left:auto">
                {{ activeZone.description }}
              </div>
            </div>
          </div>

          <div class="chat-header">
            <div class="chat-header-title">
              üí¨ {{ activeZone ? activeZone.name : '–ß–∞—Ç –¥–µ—Ä–µ–≤–Ω–∏' }}
            </div>
            <div style="display:flex;gap:6px">
              <button class="btn btn-ghost btn-sm" :class="chatFilter === '' ? 'btn-primary' : ''" @click="chatFilter = ''">–í—Å–µ</button>
              <button class="btn btn-ghost btn-sm" :class="chatFilter === 'quest' ? 'btn-primary' : ''" @click="chatFilter = 'quest'">–ò–≥—Ä–æ–≤—ã–µ</button>
              <button class="btn btn-ghost btn-sm" :class="chatFilter === 'question' ? 'btn-primary' : ''" @click="chatFilter = 'question'">–í–æ–ø—Ä–æ—Å—ã</button>
            </div>
          </div>

          <div class="chat-messages" ref="chatMessages">
            <div
              class="chat-msg"
              :class="{ mine: msg.mine }"
              v-for="msg in filteredChatMessages"
              :key="msg.id"
            >
              <div class="chat-avatar" :style="{ background: playerColor({ username: msg.author }) }">
                {{ (msg.author || '?')[0].toUpperCase() }}
              </div>
              <div class="chat-bubble">
                <div class="chat-bubble-header">
                  <span class="chat-bubble-name">{{ msg.author }}</span>
                  <span class="chat-bubble-time">{{ formatTime(msg.ts) }}</span>
                  <span class="chat-bubble-xp" v-if="msg.xp">+{{ msg.xp }} XP</span>
                </div>
                <div class="chat-bubble-text">{{ msg.text }}</div>
              </div>
            </div>
            <div class="empty-state" v-if="!filteredChatMessages.length">
              <div class="empty-state-icon">üí¨</div>
              <div class="empty-state-text">–ù–∞—á–Ω–∏ –æ–±—â–µ–Ω–∏–µ ‚Äî –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π XP</div>
            </div>
          </div>

          <div class="chat-input-area">
            <textarea
              class="chat-textarea"
              v-model="chatInput"
              :placeholder="`–ù–∞–ø–∏—Å–∞—Ç—å –≤ ¬´${activeZone?.name || '–¥–µ—Ä–µ–≤–Ω–µ'}¬ª‚Ä¶ (${calcXpLabel(chatInput || 'x')} –∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ)`"
              @keydown.enter.exact.prevent="sendChatMessage"
              rows="1"
            ></textarea>
            <button class="btn btn-primary btn-sm" @click="sendChatMessage" :disabled="!chatInput.trim()">
              –û—Ç–ø—Ä–∞–≤–∏—Ç—å {{ calcXpLabel(chatInput) }}
            </button>
          </div>
        </div>

        <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å: –ø–µ—Ä—Å–æ–Ω–∞–∂ -->
        <div style="display:flex;flex-direction:column;gap:12px">

          <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ -->
          <div class="char-panel">
            <div class="char-panel-title">üêØ –ú–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂</div>

            <div class="char-level">
              <div class="char-level-num">{{ chatLevel }}</div>
              <div class="char-level-label">—É—Ä–æ–≤–µ–Ω—å</div>
            </div>

            <div class="char-class">{{ charClassName }}</div>

            <div class="progress-wrap">
              <div class="progress-label">
                <span>{{ chatXp }} / {{ xpForNextLevel }} XP</span>
                <span style="color:var(--accent-gold)">{{ xpProgressPercent }}%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" :style="{ width: xpProgressPercent + '%' }"></div>
              </div>
            </div>

            <div class="char-stats-row">
              <div class="char-stat">
                <div class="char-stat-label">–°–æ–æ–±—â–µ–Ω–∏–π</div>
                <div class="char-stat-value">{{ totalMessages }}</div>
              </div>
              <div class="char-stat">
                <div class="char-stat-label">–í—Å–µ–≥–æ XP</div>
                <div class="char-stat-value">{{ chatXpTotal }}</div>
              </div>
            </div>
          </div>

          <!-- –¢–µ–∫—É—â–∞—è –∑–æ–Ω–∞ -->
          <div class="card" v-if="activeZone" style="background:linear-gradient(135deg,rgba(200,146,42,0.06),rgba(200,146,42,0.02));border-color:var(--border-gold)">
            <div class="card-title" style="margin-bottom:8px">üìç –¢–µ–∫—É—â–∞—è –∑–æ–Ω–∞</div>
            <div style="font-weight:700;font-size:14px;color:var(--text-primary);margin-bottom:4px">{{ activeZone.name }}</div>
            <span class="zone-type-badge" :class="activeZone.type">
              {{ activeZone.type === 'starter' ? '‚≠ê –°—Ç–∞—Ä—Ç–æ–≤–∞—è' : 'üë• –°–æ–æ–±—â–µ—Å—Ç–≤–æ' }}
            </span>
            <div style="margin-top:10px;display:flex;gap:10px;font-size:12px">
              <div style="color:var(--text-secondary)">üü¢ {{ activeZone.players_online }} –æ–Ω–ª–∞–π–Ω</div>
              <div style="color:var(--accent-gold-bright);font-weight:700">XP √ó{{ activeZone.xp_multiplier }}</div>
            </div>
            <button class="btn btn-ghost btn-sm" style="margin-top:8px;width:100%" @click="activeTab = 'world'">üåç –°–º–µ–Ω–∏—Ç—å –∑–æ–Ω—É</button>
          </div>

          <!-- –ü—Ä–∞–≤–∏–ª–∞ XP -->
          <div class="card">
            <div class="card-title" style="margin-bottom:10px">‚ú® XP –∑–∞ –æ–±—â–µ–Ω–∏–µ</div>
            <div style="font-size:11px;color:var(--text-muted);margin-bottom:8px" v-if="activeZone && activeZone.xp_multiplier > 1">
              –ú–Ω–æ–∂–∏—Ç–µ–ª—å –∑–æ–Ω—ã √ó{{ activeZone.xp_multiplier }} –ø—Ä–∏–º–µ–Ω—ë–Ω
            </div>
            <div class="xp-rules">
              <div class="xp-rule">
                <div class="xp-rule-label">–°–æ–æ–±—â–µ–Ω–∏–µ</div>
                <div class="xp-rule-value">+{{ Math.round(2 * (activeZone?.xp_multiplier || 1)) }} XP</div>
              </div>
              <div class="xp-rule">
                <div class="xp-rule-label">–í–æ–ø—Ä–æ—Å (?)</div>
                <div class="xp-rule-value">+{{ Math.round(3 * (activeZone?.xp_multiplier || 1)) }} XP</div>
              </div>
              <div class="xp-rule">
                <div class="xp-rule-label">–û—Ç–≤–µ—Ç (@user)</div>
                <div class="xp-rule-value">+{{ Math.round(4 * (activeZone?.xp_multiplier || 1)) }} XP</div>
              </div>
              <div class="xp-rule">
                <div class="xp-rule-label">–†–µ–π–¥/–Ø—Ä–º–∞—Ä–∫–∞</div>
                <div class="xp-rule-value">+{{ Math.round(5 * (activeZone?.xp_multiplier || 1)) }} XP</div>
              </div>
            </div>
          </div>

          <!-- –¢–æ–ø –ø–æ –æ–±—â–µ–Ω–∏—é -->
          <div class="card">
            <div class="card-title" style="margin-bottom:10px">üèÜ –¢–æ–ø –±–æ–ª—Ç—É–Ω–æ–≤</div>
            <div v-for="(p, i) in chatTopPlayers" :key="p.author" style="display:flex;align-items:center;gap:8px;padding:5px 0;border-bottom:1px solid var(--border-subtle)">
              <span class="player-rank" :class="rankClass(i)">#{{ i + 1 }}</span>
              <span style="flex:1;font-size:13px">{{ p.author }}</span>
              <span style="font-size:12px;color:var(--accent-gold-bright);font-weight:700">{{ p.totalXp }} XP</span>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- ‚îÄ‚îÄ‚îÄ –†–ï–î–ê–ö–¢–û–† ‚îÄ‚îÄ‚îÄ -->
    <div v-if="activeTab === 'editor'" class="tab-content">
      <div class="editor-layout">

        <!-- –ü–∞–Ω–µ–ª—å –∞—Å—Å–µ—Ç–æ–≤ -->
        <div class="editor-sidebar">
          <div>
            <div class="asset-section-title" @click="assetSections.tiles = !assetSections.tiles">
              üåø –ó–µ–º–ª—è <span>{{ assetSections.tiles ? '‚ñ≤' : '‚ñº' }}</span>
            </div>
            <div class="asset-items" v-show="assetSections.tiles">
              <div
                class="asset-item"
                :class="{ selected: selectedAsset.type === 'tile' && selectedAsset.id === (t.id || t) }"
                v-for="t in assets.tiles"
                :key="t.id || t"
                @click="selectAsset('tile', t)"
                :title="typeof t === 'object' ? (t.name || t.id) : t"
              >
                <span>{{ typeof t === 'object' ? (t.name || t.id) : t }}</span>
              </div>
            </div>
          </div>

          <div>
            <div class="asset-section-title" @click="assetSections.buildings = !assetSections.buildings">
              üè† –ó–¥–∞–Ω–∏—è <span>{{ assetSections.buildings ? '‚ñ≤' : '‚ñº' }}</span>
            </div>
            <div class="asset-items" v-show="assetSections.buildings" style="grid-template-columns:repeat(2,1fr)">
              <div
                class="asset-item"
                :class="{ selected: selectedAsset.type === 'building' && selectedAsset.id === (b.id || b) }"
                v-for="b in assets.buildings"
                :key="b.id || b"
                @click="selectAsset('building', b)"
                :title="typeof b === 'object' ? (b.name || b.id) : b"
              >
                <span style="font-size:9px;text-align:center">{{ typeof b === 'object' ? (b.name || b.id) : b }}</span>
              </div>
            </div>
          </div>

          <div>
            <div class="asset-section-title" @click="assetSections.characters = !assetSections.characters">
              üë§ –ü–µ—Ä—Å–æ–Ω–∞–∂–∏ <span>{{ assetSections.characters ? '‚ñ≤' : '‚ñº' }}</span>
            </div>
            <div class="asset-items" v-show="assetSections.characters">
              <div
                class="asset-item"
                :class="{ selected: selectedAsset.type === 'character' && selectedAsset.id === (c.id || c) }"
                v-for="c in assets.characters"
                :key="c.id || c"
                @click="selectAsset('character', c)"
              >
                <span>{{ typeof c === 'object' ? (c.name || c.id) : c }}</span>
              </div>
            </div>
          </div>
        </div>

        <!-- –ö–∞–Ω–≤–∞—Å PIXI -->
        <div class="editor-canvas-wrap">
          <div id="editor-canvas"></div>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤ -->
        <div class="editor-props-panel">
          <h3>–°–≤–æ–π—Å—Ç–≤–∞ —Ç–∞–π–ª–∞</h3>
          <div v-if="selectedTileProps">
            <div class="props-row"><span class="props-label">–¢–∏–ø</span><span class="props-value">{{ selectedTileProps.type }}</span></div>
            <div class="props-row"><span class="props-label">–ò–º—è</span><span class="props-value">{{ selectedTileProps.name || '‚Äî' }}</span></div>
            <div class="props-row"><span class="props-label">–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã</span><span class="props-value">({{ selectedTileProps.x }}, {{ selectedTileProps.y }})</span></div>
          </div>
          <div class="empty-state" v-else>
            <div class="empty-state-icon">üñ±Ô∏è</div>
            <div class="empty-state-text">–ö–ª–∏–∫–Ω–∏ –Ω–∞ —Ç–∞–π–ª</div>
          </div>

          <!-- Editor API Key -->
          <div style="margin-top:12px">
            <div style="font-size:11px;color:var(--text-muted);margin-bottom:4px">üîë Editor API Key</div>
            <div style="display:flex;gap:4px">
              <input
                type="password"
                v-model="editorApiKey"
                placeholder="–ö–ª—é—á –∏–∑ EDITOR_API_KEY"
                style="flex:1;background:rgba(0,0,0,0.3);border:1px solid rgba(245,158,11,0.3);color:#fff;border-radius:6px;padding:5px 8px;font-size:12px"
                @keydown.enter="saveEditorApiKey"
              >
              <button class="btn btn-ghost btn-sm" @click="saveEditorApiKey" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–ª—é—á">‚úì</button>
            </div>
            <div style="font-size:10px;color:var(--text-muted);margin-top:3px">–ë–µ–∑ –∫–ª—é—á–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ</div>
          </div>

          <div style="margin-top:auto;display:flex;flex-direction:column;gap:6px">
            <button class="btn btn-primary" @click="saveMap"
              :disabled="!editorApiKey || editorSaving"
              :title="!editorApiKey ? '–£–∫–∞–∂–∏ Editor API Key –≤—ã—à–µ' : ''">
              {{ editorSaving ? '‚è≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...' : 'üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞—Ä—Ç—É' }}
            </button>
            <button class="btn btn-ghost btn-sm" @click="exportMap">‚Üì –≠–∫—Å–ø–æ—Ä—Ç JSON</button>
            <button class="btn btn-ghost btn-sm" @click="importMap">‚Üë –ò–º–ø–æ—Ä—Ç JSON</button>
            <input type="file" id="import-map" style="display:none" @change="handleImport">
          </div>
        </div>

        <!-- –¢—É–ª–±–∞—Ä -->
        <div class="editor-toolbar">
          <button class="btn btn-ghost btn-sm" title="–û—Ç–º–µ–Ω–∏—Ç—å (Ctrl+Z)">‚Ü© Undo</button>
          <button class="btn btn-ghost btn-sm" title="–ü–æ–≤—Ç–æ—Ä–∏—Ç—å (Ctrl+Y)">‚Ü™ Redo</button>
          <div class="toolbar-sep"></div>
          <button class="btn btn-ghost btn-sm" :class="editorTool === 'brush' ? 'btn-primary' : ''" @click="editorTool = 'brush'">üñå –ö–∏—Å—Ç—å</button>
          <button class="btn btn-ghost btn-sm" :class="editorTool === 'select' ? 'btn-primary' : ''" @click="editorTool = 'select'">üñ± –í—ã–±–æ—Ä</button>
          <button class="btn btn-ghost btn-sm" :class="editorTool === 'fill' ? 'btn-primary' : ''" @click="editorTool = 'fill'">ü™£ –ó–∞–ª–∏–≤–∫–∞</button>
          <button class="btn btn-ghost btn-sm" :class="editorTool === 'erase' ? 'btn-primary' : ''" @click="editorTool = 'erase'" title="–£–¥–∞–ª–∏—Ç—å —Ç–∞–π–ª (E)">üßπ –õ–∞—Å—Ç–∏–∫</button>
          <div class="toolbar-sep"></div>
          <button class="btn btn-ghost btn-sm" @click="editorZoom(1.2)">+ Zoom</button>
          <button class="btn btn-ghost btn-sm" @click="editorZoom(0.8)">- Zoom</button>
          <div class="toolbar-coords">
            –ö—É—Ä—Å–æ—Ä: ({{ cursorCoords.x }}, {{ cursorCoords.y }}) |
            –¢–∞–π–ª–æ–≤: <span style="color:#22c55e">{{ editorMapData?.tiles?.length ?? 0 }}</span> |
            –í—ã–±—Ä–∞–Ω: <span style="color:var(--accent-gold)">{{ editorTool === 'erase' ? 'üßπ –õ–∞—Å—Ç–∏–∫' : (selectedAsset.name || '–Ω–µ—Ç') }}</span>
          </div>
        </div>

      </div>
    </div>

    <!-- ‚îÄ‚îÄ‚îÄ –ü–†–ï–î–ú–ï–¢–´ (–ï–î–ò–ù–´–ô –ö–ê–¢–ê–õ–û–ì) ‚îÄ‚îÄ‚îÄ -->
    <div v-if="activeTab === 'items'" class="tab-content">

      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;flex-wrap:wrap;gap:10px">
        <h2 class="section-title">üéí –ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–µ–¥–º–µ—Ç–æ–≤</h2>
        <span style="font-size:12px;color:var(--text-muted)">
          –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–ª—è Tigrit –∏ Village Era ¬∑ {{ filteredItems.length }} –∏–∑ {{ itemsCatalog.length }}
        </span>
      </div>

      <!-- –§–∏–ª—å—Ç—Ä—ã –ø–æ —Ç–∏–ø—É —Å–ª–æ—Ç–∞ -->
      <div class="filter-row" style="margin-bottom:10px;flex-wrap:wrap;gap:8px">
        <button class="btn btn-sm" :class="itemsFilter==='' ? 'btn-primary':'btn-ghost'" @click="itemsFilter=''">–í—Å–µ</button>
        <button class="btn btn-sm" :class="itemsFilter==='relic_slot'    ? 'btn-primary':'btn-ghost'" @click="itemsFilter='relic_slot'">‚ú® –†–µ–ª–∏–∫–≤–∏–∏</button>
        <button class="btn btn-sm" :class="itemsFilter==='buff'          ? 'btn-primary':'btn-ghost'" @click="itemsFilter='buff'">üõ°Ô∏è –ë–∞—Ñ—ã</button>
        <button class="btn btn-sm" :class="itemsFilter==='curse'         ? 'btn-primary':'btn-ghost'" @click="itemsFilter='curse'">üåë –ü—Ä–æ–∫–ª—è—Ç–∏—è</button>
        <button class="btn btn-sm" :class="itemsFilter==='artifact_relic'? 'btn-primary':'btn-ghost'" @click="itemsFilter='artifact_relic'">üîÆ –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã</button>
        <button class="btn btn-sm" :class="itemsFilter==='amulet'        ? 'btn-primary':'btn-ghost'" @click="itemsFilter='amulet'">üíé –ê–º—É–ª–µ—Ç—ã</button>
        <button class="btn btn-sm" :class="itemsFilter==='egg'           ? 'btn-primary':'btn-ghost'" @click="itemsFilter='egg'">ü•ö –Ø–π—Ü–∞</button>
      </div>

      <!-- –§–∏–ª—å—Ç—Ä —Ä–µ–¥–∫–æ—Å—Ç–∏ -->
      <div class="filter-row" style="margin-bottom:16px;flex-wrap:wrap;gap:6px">
        <button class="btn btn-sm btn-ghost" :class="itemsRarityFilter==='' ? 'btn-primary':''" @click="itemsRarityFilter=''">–õ—é–±–∞—è</button>
        <button v-for="rar in ['common','rare','magic','EPIC','PREMIUM','FIRE','YIN','YAN','TSY','MAGIC']"
                :key="rar"
                class="btn btn-sm btn-ghost"
                :class="itemsRarityFilter===rar ? 'btn-primary':''"
                :style="{ borderColor: rarityColor[rar], color: rarityColor[rar] }"
                @click="itemsRarityFilter = itemsRarityFilter===rar ? '' : rar">
          {{ rar }}
        </button>
      </div>

      <!-- –°–ø–∏–Ω–Ω–µ—Ä -->
      <div v-if="itemsLoading" style="text-align:center;padding:40px">
        <div class="spinner"></div>
        <p style="margin-top:12px;color:var(--text-muted)">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–∞–ª–æ–≥–∞‚Ä¶</p>
      </div>

      <!-- –ü—É—Å—Ç–æ–π –∫–∞—Ç–∞–ª–æ–≥ -->
      <div v-else-if="itemsCatalog.length === 0" class="empty-state">
        <p>‚ö†Ô∏è –ö–∞—Ç–∞–ª–æ–≥ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Äî API –Ω–µ –æ—Ç–≤–µ—Ç–∏–ª</p>
        <button class="btn btn-primary btn-sm" style="margin-top:8px" @click="fetchItemsCatalog()">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å</button>
      </div>

      <!-- –ù–µ—Ç –ø–æ —Ñ–∏–ª—å—Ç—Ä—É -->
      <div v-else-if="filteredItems.length === 0" class="empty-state">
        <p>–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Ñ–∏–ª—å—Ç—Ä—É</p>
      </div>

      <!-- –°–µ—Ç–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ -->
      <div v-else class="items-grid">
        <div v-for="item in filteredItems" :key="item.key" class="item-card" :style="{ '--rarity-color': rarityColor[item.rarity] ?? '#aaa' }">
          <div class="item-card__head">
            <span class="item-card__icon">{{ itemTypeEmoji[item.slot_type] ?? 'üì¶' }}</span>
            <div>
              <div class="item-card__name">{{ item.name }}</div>
              <div class="item-card__key">{{ item.key }}</div>
            </div>
            <span class="item-card__rarity" :style="{ color: rarityColor[item.rarity] ?? '#aaa' }">{{ item.rarity }}</span>
          </div>
          <div class="item-card__effect">{{ item.effect }}</div>
          <!-- –ß–∏—Å–ª–æ–≤—ã–µ —Å—Ç–∞—Ç—ã -->
          <div class="item-card__stats">
            <span v-for="(val, statKey) in item.stat" :key="statKey" class="item-stat-badge"
                  :style="{ background: val < 0 ? 'rgba(231,76,60,0.2)' : 'rgba(46,204,113,0.2)',
                             color:      val < 0 ? '#e74c3c' : '#2ecc71' }">
              {{ formatStat(statKey, val) }}
            </span>
          </div>
        </div>
      </div>

    </div><!-- /items -->

    <!-- ‚îÄ‚îÄ‚îÄ –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–¨ –î–ï–†–ï–í–ù–ò ‚îÄ‚îÄ‚îÄ -->
    <div v-if="activeTab === 'admin'" class="tab-content">

      <div style="display:flex;align-items:center;gap:12px;margin-bottom:16px;flex-wrap:wrap">
        <h2>üõ°Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–Ω–µ–π</h2>
        <span class="admin-badge-test">TEST MODE ‚Äî –¥–æ—Å—Ç—É–ø –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤</span>
        <div style="margin-left:auto;display:flex;align-items:center;gap:8px">
          <label style="font-size:12px;color:var(--text-muted)">Admin API Key:</label>
          <input type="password" v-model="adminApiKey" placeholder="TIGRIT_ADMIN_API_KEY"
            style="background:rgba(0,0,0,0.35);border:1px solid rgba(239,68,68,0.4);color:#fff;border-radius:6px;padding:5px 10px;font-size:12px;width:200px">
          <button class="btn btn-ghost btn-sm" @click="saveAdminApiKey">‚úì</button>
        </div>
      </div>

      <div v-if="adminMsg" :class="adminMsgOk ? 'msg ok' : 'msg err'" style="margin-bottom:12px;padding:8px 12px;border-radius:6px;background:rgba(0,0,0,0.3)">{{ adminMsg }}</div>

      <div class="admin-layout">

        <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –ø—Ä–∞–≤–∫–∞ –¥–µ—Ä–µ–≤–Ω–∏ -->
        <div class="card">
          <div class="admin-section-title">üè∞ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–µ—Ä–µ–≤–Ω–∏ (id=1)</div>

          <div class="admin-field">
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
            <input type="text" v-model="adminVillage.name" placeholder="–¢–∏–≥—Ä–∏—Ç">
          </div>
          <div class="admin-field">
            <label>–£—Ä–æ–≤–µ–Ω—å (level)</label>
            <input type="number" v-model.number="adminVillage.level" min="1" max="100">
          </div>
          <div class="admin-field">
            <label>XP –¥–µ—Ä–µ–≤–Ω–∏</label>
            <input type="number" v-model.number="adminVillage.xp" min="0">
          </div>
          <div class="admin-field">
            <label>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (activity)</label>
            <input type="number" v-model.number="adminVillage.activity" min="0">
          </div>
          <div class="admin-field">
            <label>–ù–∞—Å–µ–ª–µ–Ω–∏–µ (population)</label>
            <input type="number" v-model.number="adminVillage.population" min="0">
          </div>
          <div class="admin-field">
            <label>–ú–∞–∫—Å. –Ω–∞—Å–µ–ª–µ–Ω–∏–µ (population_max)</label>
            <input type="number" v-model.number="adminVillage.population_max" min="0">
          </div>

          <div class="admin-section-title" style="margin-top:12px">üî® –°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ</div>
          <div class="admin-field">
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–π–∫–∏ (build_name)</label>
            <input type="text" v-model="adminVillage.build_name" placeholder="–†—ã–Ω–æ—á–Ω–∞—è –ø–ª–æ—â–∞–¥—å">
          </div>
          <div class="admin-field">
            <label>–ü—Ä–æ–≥—Ä–µ—Å—Å —Å—Ç—Ä–æ–π–∫–∏ % (0‚Äì100)</label>
            <input type="number" v-model.number="adminVillage.build_progress" min="0" max="100">
            <div style="display:flex;gap:6px;margin-top:4px">
              <button class="btn btn-ghost btn-sm" @click="adminVillage.build_progress = 0">–°–±—Ä–æ—Å–∏—Ç—å</button>
              <button class="btn btn-ghost btn-sm" @click="adminVillage.build_progress = 100">‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
            </div>
          </div>

          <div class="admin-section-title" style="margin-top:12px">üì¶ –†–µ—Å—É—Ä—Å—ã (–±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏)</div>
          <div class="admin-field" v-for="resKey in ['wood','stone','gold','food','influence']" :key="resKey">
            <label>{{ {wood:'ü™µ –î–µ—Ä–µ–≤–æ',stone:'ü™® –ö–∞–º–µ–Ω—å',gold:'ü™ô –ú–æ–Ω–µ—Ç—ã',food:'üåæ –ï–¥–∞',influence:'üîÆ –í–ª–∏—è–Ω–∏–µ'}[resKey] }}</label>
            <input type="number" v-model.number="adminVillage.resources[resKey]" min="0">
          </div>

          <div style="display:flex;gap:8px;margin-top:14px;flex-wrap:wrap">
            <button class="btn btn-primary" @click="adminSaveVillage"
              :disabled="!adminApiKey || adminLoading"
              :title="!adminApiKey ? '–£–∫–∞–∂–∏ Admin API Key –≤—ã—à–µ' : ''">
              {{ adminLoading ? '‚è≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...' : 'üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–µ—Ä–µ–≤–Ω—é' }}
            </button>
            <button class="btn btn-ghost btn-sm" @click="adminLoadVillage" :disabled="adminLoading">
              üîÑ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ–∫—É—â–∏–µ
            </button>
          </div>
        </div>

        <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –ø—Ä–∞–≤–∫–∞ –∏–≥—Ä–æ–∫–æ–≤ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ -->
        <div style="display:flex;flex-direction:column;gap:12px">

          <!-- –ü—Ä–æ–∫–∞—á–∫–∞ –∏–≥—Ä–æ–∫–∞ -->
          <div class="card">
            <div class="admin-section-title">üë§ –ü—Ä–æ–∫–∞—á–∫–∞ –∏–≥—Ä–æ–∫–∞</div>
            <!-- –ü–æ–∏—Å–∫ –ø–æ username -->
            <div class="admin-field" style="position:relative">
              <label>–ü–æ–∏—Å–∫ –ø–æ username</label>
              <input type="text" v-model="adminUserSearch" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫..."
                @input="adminSearchUsers"
                style="width:100%;background:rgba(0,0,0,0.3);border:1px solid rgba(255,255,255,0.15);color:#fff;border-radius:6px;padding:5px 8px;font-size:13px">
              <div v-if="adminUserResults.length > 0"
                style="position:absolute;top:100%;left:0;right:0;background:#1a1a2e;border:1px solid rgba(255,255,255,0.2);border-radius:6px;z-index:50;max-height:180px;overflow-y:auto">
                <div v-for="p in adminUserResults" :key="p.user_id"
                  @click="adminSelectUser(p)"
                  style="padding:6px 10px;cursor:pointer;font-size:12px;border-bottom:1px solid rgba(255,255,255,0.07)"
                  class="user-search-row">
                  <span style="color:#f59e0b;font-weight:600">{{ p.username }}</span>
                  <span style="color:#aaa;margin-left:8px">–£—Ä.{{ p.level }} | XP:{{ p.xp }}</span>
                  <span style="color:#888;margin-left:6px">{{ p.race }} {{ p.clazz }}</span>
                </div>
              </div>
            </div>
            <!-- –ú–∏–Ω–∏-–∫–∞—Ä—Ç–æ—á–∫–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞ -->
            <div v-if="adminUserInfo" style="font-size:11px;color:#aaa;margin-bottom:6px;padding:4px 8px;background:rgba(0,0,0,0.2);border-radius:4px">
              –¢–µ–∫—É—â–µ–µ: –£—Ä.{{ adminUserInfo.level }}, XP:{{ adminUserInfo.xp }}, {{ adminUserInfo.race }} {{ adminUserInfo.clazz }}
            </div>
            <div class="admin-field">
              <label>User ID (–∏–∑ tigrit_user_profile)</label>
              <input type="number" v-model.number="adminUser.userId" placeholder="12345">
            </div>
            <div class="admin-field">
              <label>XP (–±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤)</label>
              <input type="number" v-model.number="adminUser.xp" min="0">
            </div>
            <div class="admin-field">
              <label>–£—Ä–æ–≤–µ–Ω—å</label>
              <input type="number" v-model.number="adminUser.level" min="1">
            </div>
            <div class="admin-field">
              <label>–†–∞—Åa (race)</label>
              <select v-model="adminUser.race">
                <option value="">‚Äî –Ω–µ –º–µ–Ω—è—Ç—å ‚Äî</option>
                <option>Human</option><option>Elf</option><option>Dwarf</option><option>Orc</option>
              </select>
            </div>
            <div class="admin-field">
              <label>–ö–ª–∞—Å—Å (clazz)</label>
              <select v-model="adminUser.clazz">
                <option value="">‚Äî –Ω–µ –º–µ–Ω—è—Ç—å ‚Äî</option>
                <option>Warrior</option><option>Mage</option><option>Craftsman</option><option>Ranger</option>
              </select>
            </div>
            <button class="btn btn-primary btn-sm" @click="adminSaveUser" style="margin-top:4px"
              :disabled="!adminApiKey || adminLoading"
              :title="!adminApiKey ? '–£–∫–∞–∂–∏ Admin API Key –≤—ã—à–µ' : ''">
              {{ adminLoading ? '‚è≥...' : 'üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–≥—Ä–æ–∫–∞' }}
            </button>
          </div>

          <!-- –°—Ç–∞—Ç—É—Å Admin API -->
          <div class="card" v-if="adminStatus">
            <div class="admin-section-title">üì° –°—Ç–∞—Ç—É—Å Admin API</div>
            <div style="font-size:12px;display:flex;flex-direction:column;gap:4px">
              <div>–ë–î: <span :style="{color: adminStatus.db_connected ? '#22c55e' : '#ef4444'}">{{ adminStatus.db_connected ? '‚úÖ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞' : '‚ùå –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞' }}</span></div>
              <div>–ö–ª—é—á: <span :style="{color: adminStatus.admin_key_configured ? '#22c55e' : '#ef4444'}">{{ adminStatus.admin_key_configured ? '‚úÖ –∑–∞–¥–∞–Ω' : '‚ùå TIGRIT_ADMIN_API_KEY –Ω–µ –∑–∞–¥–∞–Ω' }}</span></div>
              <div v-if="adminStatus.village_exists !== undefined">–î–µ—Ä–µ–≤–Ω—è: <span :style="{color: adminStatus.village_exists ? '#22c55e' : '#ef4444'}">{{ adminStatus.village_exists ? '‚úÖ –µ—Å—Ç—å' : '‚ùå –Ω–µ—Ç –∑–∞–ø–∏—Å–∏ id=1' }}</span></div>
              <div v-if="adminStatus.server_time" style="color:#888;font-size:10px">{{ adminStatus.server_time }}</div>
            </div>
          </div>

          <!-- –ê–∫—Ç–∏–≤–∞—Ü–∏–∏ -->
          <div class="card">
            <div class="admin-section-title">‚ö° –ë—ã—Å—Ç—Ä—ã–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏</div>
            <div style="display:flex;flex-direction:column;gap:8px">
              <button class="btn btn-ghost btn-sm" @click="adminQuickAction('build_complete')"
                :disabled="!adminApiKey || adminLoading" :title="!adminApiKey ? '–£–∫–∞–∂–∏ Admin API Key' : ''">‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å —Å—Ç—Ä–æ–π–∫—É (‚Üí 100%)</button>
              <button class="btn btn-ghost btn-sm" @click="adminQuickAction('build_reset')"
                :disabled="!adminApiKey || adminLoading" :title="!adminApiKey ? '–£–∫–∞–∂–∏ Admin API Key' : ''">üîÑ –°–±—Ä–æ—Å–∏—Ç—å —Å—Ç—Ä–æ–π–∫—É (‚Üí 0%)</button>
              <button class="btn btn-ghost btn-sm" @click="adminQuickAction('resources_fill')"
                :disabled="!adminApiKey || adminLoading" :title="!adminApiKey ? '–£–∫–∞–∂–∏ Admin API Key' : ''">üì¶ –ó–∞–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã</button>
              <button class="btn btn-ghost btn-sm" @click="adminQuickAction('activity_reset')"
                :disabled="!adminApiKey || adminLoading" :title="!adminApiKey ? '–£–∫–∞–∂–∏ Admin API Key' : ''">üìä –°–±—Ä–æ—Å–∏—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</button>
              <button class="btn btn-ghost btn-sm" @click="adminQuickAction('level_up')"
                :disabled="!adminApiKey || adminLoading" :title="!adminApiKey ? '–£–∫–∞–∂–∏ Admin API Key' : ''">‚¨ÜÔ∏è –ü–æ–≤—ã—Å–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ä–µ–≤–Ω–∏</button>
            </div>
          </div>

          <!-- –ö–∞—Ä—Ç–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ -->
          <div class="card">
            <div class="admin-section-title">üó∫Ô∏è –ö–∞—Ä—Ç–∞ –¥–µ—Ä–µ–≤–Ω–∏</div>
            <p style="font-size:12px;color:var(--text-muted);margin-bottom:10px">
              –î–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞—Ä—Ç—ã –ø–µ—Ä–µ–π–¥–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É <strong>üó∫Ô∏è –†–µ–¥–∞–∫—Ç–æ—Ä</strong>.
              –£–∫–∞–∂–∏ Editor API Key –≤ –ø–∞–Ω–µ–ª–∏ —Å–ø—Ä–∞–≤–∞ –∏ –Ω–∞–∂–º–∏ ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞—Ä—Ç—É¬ª.
            </p>
            <div style="font-size:12px;color:var(--text-muted)">
              <strong>EDITOR_API_KEY</strong> –∑–∞–¥–∞—ë—Ç—Å—è –≤ env —Ñ–∞–π–ª–µ tigrit_api.
              –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –∫–ª—é—á–∞ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ: 
              <span :style="{ color: editorApiKey ? '#22c55e' : '#ef4444' }">
                {{ editorApiKey ? '‚úÖ –∑–∞–¥–∞–Ω' : '‚ùå –Ω–µ –∑–∞–¥–∞–Ω' }}
              </span>
            </div>
            <button class="btn btn-ghost btn-sm" style="margin-top:8px" @click="activeTab = 'editor'">‚Üí –ü–µ—Ä–µ–π—Ç–∏ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä</button>
          </div>

        </div>
      </div>
    </div>

    <!-- ‚îÄ‚îÄ‚îÄ –ö–û–ú–ê–ù–î–´ –ë–û–¢–ê ‚îÄ‚îÄ‚îÄ -->
    <div v-if="activeTab === 'commands'" class="tab-content">
      <div class="commands-header">
        <h2>ü§ñ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞</h2>
        <a href="https://t.me/PHXPW" target="_blank" rel="noopener" class="btn btn-telegram">
          ‚úà –û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞
        </a>
      </div>

      <div class="commands-grid">
        <div class="command-card" v-for="cmd in botCommands" :key="cmd.cmd">
          <div class="command-header">
            <span class="badge" :class="cmdBadgeClass(cmd.type)">{{ cmd.type || 'game' }}</span>
            <span class="badge badge-paid" v-if="cmd.token_cost">üíé {{ cmd.token_cost }}</span>
          </div>
          <div class="command-name">{{ cmd.cmd }}</div>
          <div class="command-desc">{{ cmd.desc }}</div>
          <div class="command-actions">
            <button class="btn btn-ghost btn-sm" @click="copyCommand(cmd.cmd)">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
            <a :href="'https://t.me/PHXPW?start=' + cmd.code" target="_blank" rel="noopener" class="btn btn-telegram btn-sm">‚Üó –û—Ç–∫—Ä—ã—Ç—å</a>
          </div>
        </div>
      </div>
    </div>

  </main>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       –ú–û–î–ê–õ–¨: –ò–ù–°–¢–†–£–ö–¶–ò–Ø
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="modal-overlay" :class="{ open: showInstructions }" @click.self="showInstructions = false">
    <div class="modal-box">
      <div class="modal-header">
        <div class="modal-title">üìñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¢–∏–≥—Ä–∏—Ç</div>
        <button class="modal-close" @click="showInstructions = false">√ó</button>
      </div>

      <div class="modal-tabs">
        <button class="modal-tab" :class="{ active: instrTab === 'tigrit' }"   @click="instrTab = 'tigrit'">üêØ –¢–∏–≥—Ä–∏—Ç</button>
        <button class="modal-tab" :class="{ active: instrTab === 'zones' }"    @click="instrTab = 'zones'">üåç –ó–æ–Ω—ã –º–∏—Ä–∞</button>
        <button class="modal-tab" :class="{ active: instrTab === 'levelup' }"  @click="instrTab = 'levelup'">‚¨Ü –ü—Ä–æ–∫–∞—á–∫–∞</button>
        <button class="modal-tab" :class="{ active: instrTab === 'village' }"  @click="instrTab = 'village'">üèòÔ∏è –î–µ—Ä–µ–≤–Ω—è</button>
        <button class="modal-tab" :class="{ active: instrTab === 'events' }"   @click="instrTab = 'events'">‚ö° –ò–≤–µ–Ω—Ç—ã</button>
        <button class="modal-tab" :class="{ active: instrTab === 'commands' }" @click="instrTab = 'commands'">ü§ñ –ö–æ–º–∞–Ω–¥—ã</button>
      </div>

      <div class="modal-body">

        <!-- –¢–∏–≥—Ä–∏—Ç -->
        <div v-if="instrTab === 'tigrit'">
          <div class="instruction-section">
            <h4>üêØ –ß—Ç–æ —Ç–∞–∫–æ–µ –¢–∏–≥—Ä–∏—Ç?</h4>
            <p>–¢–∏–≥—Ä–∏—Ç ‚Äî –æ–±—â–∏–π –º–∏—Ä MMORPG-–∏–≥—Ä—ã –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ Phoenix. –≠—Ç–æ –¥–µ—Ä–µ–≤–Ω—è, –≤ –∫–æ—Ç–æ—Ä–æ–π –∂–∏–≤—É—Ç –≤—Å–µ –∏–≥—Ä–æ–∫–∏. –ó–¥–µ—Å—å —Å—Ç—Ä–æ—è—Ç—Å—è –∑–¥–∞–Ω–∏—è, –ø—Ä–æ—Ö–æ–¥—è—Ç —Å–æ–±—ã—Ç–∏—è, —Ç–æ—Ä–≥—É—é—Ç—Å—è —Ä–µ—Å—É—Ä—Å—ã, –∑–∞–≤–æ–¥—è—Ç—Å—è –¥—Ä—É–∑—å—è.</p>
            <p>–¢–∏–≥—Ä–∏—Ç ‚Äî –Ω–µ –æ–¥–∏–Ω–æ—á–Ω–∞—è –∏–≥—Ä–∞. –≠—Ç–æ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ: —á–µ–º –∞–∫—Ç–∏–≤–Ω–µ–µ —Ç—ã —É—á–∞—Å—Ç–≤—É–µ—à—å –≤ –∂–∏–∑–Ω–∏ –¥–µ—Ä–µ–≤–Ω–∏, —Ç–µ–º —Å–∏–ª—å–Ω–µ–µ —Ç–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂.</p>
          </div>
          <div class="instruction-section">
            <h4>üåç –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω –º–∏—Ä</h4>
            <ul>
              <li>–î–µ—Ä–µ–≤–Ω—è —Ä–∞—Å—Ç—ë—Ç –≤–º–µ—Å—Ç–µ —Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é –∏–≥—Ä–æ–∫–æ–≤ ‚Äî —É –Ω–µ—ë –µ—Å—Ç—å —É—Ä–æ–≤–µ–Ω—å –∏ XP</li>
              <li>–£ –∫–∞–∂–¥–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –µ—Å—Ç—å <strong>–î–æ–º</strong> –Ω–∞ –∫–∞—Ä—Ç–µ ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ (X, Y)</li>
              <li>–ò–≥—Ä–æ–∫–∏ –≤—ã–±–∏—Ä–∞—é—Ç —Ä–∞—Å—É (–õ—é–¥–∏, –≠–ª—å—Ñ—ã, –î–≤–æ—Ä—Ñ—ã) –∏ –∫–ª–∞—Å—Å (–í–æ–∏–Ω, –ú–∞–≥, –†–µ–º–µ—Å–ª–µ–Ω–Ω–∏–∫)</li>
              <li>–ü—Ä–æ—Ñ–µ—Å—Å–∏—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –±–æ–Ω—É—Å—ã –∫ —Ä–µ—Å—É—Ä—Å–∞–º –∏ –∑–¥–∞–Ω–∏—è–º</li>
              <li>Telegram-–±–æ—Ç (@PHXPW) ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</li>
            </ul>
          </div>
          <div class="instruction-section">
            <h4>ü™ô –¢–æ–∫–µ–Ω—ã (PHOEX)</h4>
            <p>–í–Ω—É—Ç—Ä–∏–∏–≥—Ä–æ–≤–∞—è –≤–∞–ª—é—Ç–∞ ‚Äî PHOEX (PHXPW). –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ —Å–æ–±—ã—Ç–∏—è—Ö, —Ç—Ä–∞—Ç–∏—Ç—Å—è –Ω–∞ —É—Å–∫–æ—Ä–µ–Ω–∏–µ —Å—Ç—Ä–æ–π–∫–∏, –ø—Ä–µ–º–∏—É–º-–æ–±—ä–µ–∫—Ç—ã –∏ –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞.</p>
          </div>
          <div class="instruction-section">
            <h4>üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏</h4>
            <ul>
              <li>–û—Å–Ω–æ–≤–Ω–∞—è –∏–≥—Ä–∞: <a href="https://stakingphxpw.com" target="_blank" rel="noopener">stakingphxpw.com</a></li>
              <li>Telegram-–±–æ—Ç: <a href="https://t.me/PHXPW" target="_blank" rel="noopener">@PHXPW</a></li>
              <li>–í–µ–±-–∫–ª–∏–µ–Ω—Ç –¢–∏–≥—Ä–∏—Ç: <a href="https://tigrit.stakingphxpw.com" target="_blank" rel="noopener">tigrit.stakingphxpw.com</a></li>
            </ul>
          </div>
        </div>

        <!-- –ó–æ–Ω—ã –º–∏—Ä–∞ -->
        <div v-if="instrTab === 'zones'">
          <div class="instruction-section">
            <h4>üåç –û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä –¢–∏–≥—Ä–∏—Ç</h4>
            <p>–ú–∏—Ä –¢–∏–≥—Ä–∏—Ç ‚Äî —ç—Ç–æ –±–æ–ª—å—à–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω–æ–µ –Ω–∞ <strong>–∑–æ–Ω—ã</strong>. –ö–∞–∂–¥–∞—è –∑–æ–Ω–∞ = Telegram-—á–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–∫–ª—é—á–∏–ª –±–æ—Ç–∞ <code>@PHXPW</code> –∫ —Å–µ–±–µ. –ß–µ–º –±–æ–ª—å—à–µ —á–∞—Ç–æ–≤ –ø–æ–¥–∫–ª—é—á–∏–ª–∏ –±–æ—Ç–∞ ‚Äî —Ç–µ–º –±–æ–ª—å—à–µ –º–∏—Ä.</p>
          </div>
          <div class="instruction-section">
            <h4>üìå –¢–∏–ø—ã –∑–æ–Ω</h4>
            <ul>
              <li><strong>‚≠ê –°—Ç–∞—Ä—Ç–æ–≤—ã–µ</strong> ‚Äî –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —á–∞—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞ Phoenix. –í—Å–µ–≥–¥–∞ —Å—É—â–µ—Å—Ç–≤—É—é—Ç, –Ω–µ –∏—Å—á–µ–∑–∞—é—Ç. –≠—Ç–æ ¬´–º–∞—Ç–µ—Ä–∏–∫¬ª –º–∏—Ä–∞ –¢–∏–≥—Ä–∏—Ç.</li>
              <li><strong>üë• –°–æ–æ–±—â–µ—Å—Ç–≤–∞</strong> ‚Äî —á–∞—Ç—ã –∏–≥—Ä–æ–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å–∞–º–∏ –ø–æ–¥–∫–ª—é—á–∏–ª–∏ –±–æ—Ç–∞. –ü–æ—è–≤–ª—è—é—Ç—Å—è –∫–∞–∫ –Ω–æ–≤—ã–µ –∑–æ–Ω—ã –Ω–∞ –∫–∞—Ä—Ç–µ –º–∏—Ä–∞.</li>
            </ul>
          </div>
          <div class="instruction-section">
            <h4>‚ö° –ú–Ω–æ–∂–∏—Ç–µ–ª—å XP –ø–æ –∑–æ–Ω–∞–º</h4>
            <p>–ö–∞–∂–¥–∞—è –∑–æ–Ω–∞ –∏–º–µ–µ—Ç –º–Ω–æ–∂–∏—Ç–µ–ª—å XP ‚Äî –±–æ–Ω—É—Å –∫ –æ–ø—ã—Ç—É –∑–∞ –æ–±—â–µ–Ω–∏–µ –∏–º–µ–Ω–Ω–æ –≤ —ç—Ç–æ–π –∑–æ–Ω–µ:</p>
            <table class="xp-table">
              <thead><tr><th>–ó–æ–Ω–∞</th><th>–¢–∏–ø</th><th>–ú–Ω–æ–∂–∏—Ç–µ–ª—å XP</th></tr></thead>
              <tbody>
                <tr><td>–î–µ—Ä–µ–≤–Ω—è –¢–∏–≥—Ä–∏—Ç</td><td>–°—Ç–∞—Ä—Ç–æ–≤–∞—è</td><td>√ó1.0</td></tr>
                <tr><td>–¢–æ—Ä–≥–æ–≤—ã–µ —Ä—è–¥—ã</td><td>–°—Ç–∞—Ä—Ç–æ–≤–∞—è</td><td>√ó1.2</td></tr>
                <tr><td>–í–æ–µ–Ω–Ω—ã–π –ª–∞–≥–µ—Ä—å</td><td>–°—Ç–∞—Ä—Ç–æ–≤–∞—è</td><td>√ó1.5</td></tr>
                <tr><td>–ó–æ–Ω—ã —Å–æ–æ–±—â–µ—Å—Ç–≤</td><td>–°–æ–æ–±—â–µ—Å—Ç–≤–æ</td><td>√ó1.0</td></tr>
              </tbody>
            </table>
          </div>
          <div class="instruction-section">
            <h4>üó∫Ô∏è –ö–∞—Ä—Ç–∞ –º–∏—Ä–∞</h4>
            <p>–ù–∞ –≤–∫–ª–∞–¥–∫–µ <strong>¬´üåç –ú–∏—Ä¬ª</strong> –≤–∏–¥–Ω–∞ –∫–∞—Ä—Ç–∞ –≤—Å–µ—Ö –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã—Ö –∑–æ–Ω. –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –∑–æ–Ω—ã ‚Äî –≤ —Ü–µ–Ω—Ç—Ä–µ, –∑–æ–Ω—ã —Å–æ–æ–±—â–µ—Å—Ç–≤ ‚Äî –≤–æ–∫—Ä—É–≥. –ö–ª–∏–∫–Ω–∏ –Ω–∞ –∑–æ–Ω—É ‚Üí –ø–µ—Ä–µ–π–¥—ë—à—å –≤ –µ—ë —á–∞—Ç.</p>
            <p style="font-size:12px;color:var(--text-muted)">–°–ø–∏—Å–æ–∫ –∑–æ–Ω –ø–æ–¥–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å API (<code>GET /api/zones</code>); –ø–æ–∫–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –¥–µ–º–æ-–∑–æ–Ω—ã –¥–ª—è –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.</p>
          </div>
          <div class="instruction-section">
            <h4>‚ûï –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ—é –∑–æ–Ω—É</h4>
            <ul>
              <li>–î–æ–±–∞–≤—å –±–æ—Ç–∞ <code>@PHXPW</code> –≤ —Å–≤–æ–π Telegram-—á–∞—Ç –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</li>
              <li>–ù–∞–ø–∏—à–∏ <code>/start</code> –≤ —á–∞—Ç–µ</li>
              <li>–ß–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–µ—Ç –Ω–æ–≤–æ–π –∑–æ–Ω–æ–π –≤ –º–∏—Ä–µ –¢–∏–≥—Ä–∏—Ç</li>
              <li>–ò–≥—Ä–æ–∫–∏ –∏–∑ –¥—Ä—É–≥–∏—Ö –∑–æ–Ω —Å–º–æ–≥—É—Ç —É–≤–∏–¥–µ—Ç—å —Ç–≤–æ—é –∑–æ–Ω—É –Ω–∞ –∫–∞—Ä—Ç–µ</li>
            </ul>
          </div>
        </div>

        <!-- –ü—Ä–æ–∫–∞—á–∫–∞ -->
        <div v-if="instrTab === 'levelup'">
          <div class="instruction-section">
            <h4>‚¨Ü –ü—Ä–æ–∫–∞—á–∫–∞ —á–µ—Ä–µ–∑ –æ–±—â–µ–Ω–∏–µ</h4>
            <p>–ì–ª–∞–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –ø—Ä–æ–∫–∞—á–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –≤ –¢–∏–≥—Ä–∏—Ç ‚Äî –∞–∫—Ç–∏–≤–Ω–æ –æ–±—â–∞—Ç—å—Å—è –≤ —á–∞—Ç–µ –¥–µ—Ä–µ–≤–Ω–∏. –ö–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏–Ω–æ—Å–∏—Ç XP, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–≤—ã—à–∞—é—Ç —É—Ä–æ–≤–µ–Ω—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.</p>
            <p>–ò—Ç–æ–≥–æ–≤—ã–π XP = <strong>–±–∞–∑–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ √ó –º–Ω–æ–∂–∏—Ç–µ–ª—å –∑–æ–Ω—ã</strong>. –í —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∑–æ–Ω–∞—Ö –º–Ω–æ–∂–∏—Ç–µ–ª—å √ó1.0, –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö (–¢–æ—Ä–≥–æ–≤—ã–µ —Ä—è–¥—ã, –í–æ–µ–Ω–Ω—ã–π –ª–∞–≥–µ—Ä—å) ‚Äî –¥–æ √ó1.5.</p>
          </div>
          <div class="instruction-section">
            <h4>üìä –¢–∞–±–ª–∏—Ü–∞ XP –∑–∞ –æ–±—â–µ–Ω–∏–µ</h4>
            <table class="xp-table">
              <thead>
                <tr>
                  <th>–î–µ–π—Å—Ç–≤–∏–µ</th>
                  <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                  <th>XP (–±–∞–∑–∞)</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>–°–æ–æ–±—â–µ–Ω–∏–µ</td><td>–õ—é–±–æ–π —Ç–µ–∫—Å—Ç –≤ —á–∞—Ç–µ</td><td>+2 XP</td></tr>
                <tr><td>–í–æ–ø—Ä–æ—Å</td><td>–°–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç ¬´?¬ª</td><td>+3 XP</td></tr>
                <tr><td>–û—Ç–≤–µ—Ç –∏–≥—Ä–æ–∫—É</td><td>–ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å @username</td><td>+4 XP</td></tr>
                <tr><td>–ò–≥—Ä–æ–≤–∞—è —Ç–µ–º–∞</td><td>–£–ø–æ–º–∏–Ω–∞–µ—Ç —Ä–µ–π–¥, —è—Ä–º–∞—Ä–∫—É, —Å—Ç—Ä–æ–π–∫—É, –æ—Å–∞–¥—É</td><td>+5 XP</td></tr>
              </tbody>
            </table>
            <p style="margin-top:8px;font-size:12px;color:var(--text-muted)">* –í –∑–æ–Ω–∞—Ö —Å –º–Ω–æ–∂–∏—Ç–µ–ª–µ–º &gt;1 –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è —É–º–Ω–æ–∂–∞—é—Ç—Å—è. –ê–∫—Ç—É–∞–ª—å–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å –≤–∏–¥–µ–Ω –≤ —á–∞—Ç–µ —Ä—è–¥–æ–º —Å –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∑–æ–Ω–æ–π (XP √óN).</p>
          </div>
          <div class="instruction-section">
            <h4>üéØ –£—Ä–æ–≤–Ω–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</h4>
            <ul>
              <li>–£—Ä. 1‚Äì5 ‚Äî –ù–æ–≤–æ–±—Ä–∞–Ω–µ—Ü (1 000 XP –Ω–∞ —É—Ä–æ–≤–µ–Ω—å)</li>
              <li>–£—Ä. 6‚Äì10 ‚Äî –°–ª–µ–¥–æ–ø—ã—Ç (2 000 XP –Ω–∞ —É—Ä–æ–≤–µ–Ω—å)</li>
              <li>–£—Ä. 11‚Äì20 ‚Äî –í–µ—Ç–µ—Ä–∞–Ω (5 000 XP –Ω–∞ —É—Ä–æ–≤–µ–Ω—å)</li>
              <li>–£—Ä. 21+ ‚Äî –õ–µ–≥–µ–Ω–¥–∞ –¥–µ—Ä–µ–≤–Ω–∏ (10 000 XP –Ω–∞ —É—Ä–æ–≤–µ–Ω—å)</li>
            </ul>
            <p style="margin-top:8px">–ü—Ä–∏ –ø–æ–≤—ã—à–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ –∑–¥–∞–Ω–∏—è, –±–æ–Ω—É—Å—ã –∫ –¥–æ—Ö–æ–¥—É –∏ –æ—Å–æ–±—ã–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ –≤ —Å–æ–±—ã—Ç–∏—è—Ö.</p>
          </div>
          <div class="instruction-section">
            <h4>üíæ –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è</h4>
            <p>XP –∏ —É—Ä–æ–≤–µ–Ω—å —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ localStorage –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.</p>
          </div>
        </div>

        <!-- –î–µ—Ä–µ–≤–Ω—è -->
        <div v-if="instrTab === 'village'">
          <div class="instruction-section">
            <h4>üèòÔ∏è –ö–∞—Ä—Ç–∞ –¥–µ—Ä–µ–≤–Ω–∏</h4>
            <p>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∏–∑–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –∫–∞—Ä—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –¥–æ–º–∞ –∏–≥—Ä–æ–∫–æ–≤ –∏ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–¥–∞–Ω–∏—è. –ù–∞–≤–µ–¥–∏ –Ω–∞ –¥–æ–º ‚Äî —É–≤–∏–¥–∏—à—å –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∏ —É—Ä–æ–≤–µ–Ω—å.</p>
          </div>
          <div class="instruction-section">
            <h4>üì¶ –†–µ—Å—É—Ä—Å—ã</h4>
            <ul>
              <li>ü™µ –î–µ—Ä–µ–≤–æ ‚Äî —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª</li>
              <li>ü™® –ö–∞–º–µ–Ω—å ‚Äî –¥–ª—è –∞–ø–≥—Ä–µ–π–¥–æ–≤</li>
              <li>ü™ô –ú–æ–Ω–µ—Ç—ã ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –≤–∞–ª—é—Ç–∞</li>
              <li>üåæ –ï–¥–∞ ‚Äî —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∞—Ä–º–∏–∏ –∏ –Ω–∞—Å–µ–ª–µ–Ω–∏—è</li>
              <li>üîÆ –í–ª–∏—è–Ω–∏–µ ‚Äî –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ—Å—É—Ä—Å</li>
            </ul>
          </div>
          <div class="instruction-section">
            <h4>üî® –°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ</h4>
            <p>–ó–¥–∞–Ω–∏—è —Å—Ç—Ä–æ—è—Ç—Å—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π <code>/build</code>. –ü—Ä–æ–≥—Ä–µ—Å—Å –≤–∏–¥–µ–Ω –Ω–∞ –≤–∫–ª–∞–¥–∫–µ ¬´–î–µ—Ä–µ–≤–Ω—è¬ª. –£—Å–∫–æ—Ä–∏—Ç—å —Å—Ç—Ä–æ–π–∫—É –º–æ–∂–Ω–æ –∑–∞ PHOEX-—Ç–æ–∫–µ–Ω—ã.</p>
          </div>
        </div>

        <!-- –ò–≤–µ–Ω—Ç—ã -->
        <div v-if="instrTab === 'events'">
          <div class="instruction-section">
            <h4>‚ö° –¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π</h4>
            <ul>
              <li>‚öî <strong>–†–µ–π–¥</strong> ‚Äî –∞—Ç–∞–∫–∞ –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ –∑–µ–º–ª–∏, –∫–æ–º–∞–Ω–¥–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ</li>
              <li>üè™ <strong>–Ø—Ä–º–∞—Ä–∫–∞</strong> ‚Äî —Ç–æ—Ä–≥–æ–≤—ã–µ –±–æ–Ω—É—Å—ã +25%, –≤—ã–≥–æ–¥–Ω—ã–µ –æ–±–º–µ–Ω—ã</li>
              <li>üè∞ <strong>–û—Å–∞–¥–∞</strong> ‚Äî –∑–∞—â–∏—Ç–∞ –∏–ª–∏ –∞—Ç–∞–∫–∞ –∫—Ä–µ–ø–æ—Å—Ç–∏</li>
              <li>üìú <strong>–ö–≤–µ—Å—Ç</strong> ‚Äî —Ü–µ–ø–æ—á–∫–∞ –∑–∞–¥–∞–Ω–∏–π —Å –Ω–∞—Ä—Ä–∞—Ç–∏–≤–æ–º</li>
              <li>üî® <strong>–°—Ç—Ä–æ–π–∫–∞</strong> ‚Äî –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–¥–∞–Ω–∏–µ –≤—Å–µ–π –¥–µ—Ä–µ–≤–Ω–∏</li>
              <li>üí¨ <strong>–î–∏–∞–ª–æ–≥</strong> ‚Äî –∏—Å—Ç–æ—Ä–∏—è –∏ –ª–æ—Ä –º–∏—Ä–∞ –¢–∏–≥—Ä–∏—Ç</li>
            </ul>
          </div>
          <div class="instruction-section">
            <h4>üéÅ –ù–∞–≥—Ä–∞–¥—ã</h4>
            <p>–ó–∞ —É—á–∞—Å—Ç–∏–µ –≤ –∏–≤–µ–Ω—Ç–∞—Ö –≤—ã–¥–∞—é—Ç—Å—è: PHOEX-—Ç–æ–∫–µ–Ω—ã, —Ä–µ–¥–∫–∏–µ —Ä–µ–ª–∏–∫–≤–∏–∏, —Ç–∏—Ç—É–ª—ã, –±–æ–Ω—É—Å—ã –∫ –∑–¥–∞–Ω–∏—è–º –∏ XP –¥–ª—è –¥–µ—Ä–µ–≤–Ω–∏.</p>
          </div>
          <div class="instruction-section">
            <h4>‚è± –¢–∞–π–º–µ—Ä—ã</h4>
            <p>–ö–∞–∂–¥—ã–π –∞–∫—Ç–∏–≤–Ω—ã–π –∏–≤–µ–Ω—Ç –∏–º–µ–µ—Ç –¥–µ–¥–ª–∞–π–Ω. –°–ª–µ–¥–∏ –∑–∞ —Ç–∞–π–º–µ—Ä–æ–º –Ω–∞ –≤–∫–ª–∞–¥–∫–µ ¬´–°–æ–±—ã—Ç–∏—è¬ª ‚Äî –æ–ø–æ–∑–¥–∞–≤—à–∏–µ –Ω–µ –ø–æ–ª—É—á–∞—é—Ç –Ω–∞–≥—Ä–∞–¥—É.</p>
          </div>
        </div>

        <!-- –ö–æ–º–∞–Ω–¥—ã -->
        <div v-if="instrTab === 'commands'">
          <div class="instruction-section">
            <h4>ü§ñ –ö–æ–º–∞–Ω–¥—ã Telegram-–±–æ—Ç–∞ @PHXPW</h4>
            <ul>
              <li><code>/start</code> ‚Äî –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</li>
              <li><code>/village</code> ‚Äî —Å—Ç–∞—Ç—É—Å –¥–µ—Ä–µ–≤–Ω–∏, —Ä–µ—Å—É—Ä—Å—ã, —Å—Ç—Ä–æ–π–∫–∞</li>
              <li><code>/me</code> ‚Äî —Ç–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å, —É—Ä–æ–≤–µ–Ω—å, XP, –¥–æ–º</li>
              <li><code>/top</code> ‚Äî —Ç–æ–ø –∏–≥—Ä–æ–∫–æ–≤ –ø–æ XP</li>
              <li><code>/balance</code> ‚Äî –±–∞–ª–∞–Ω—Å PHOEX</li>
              <li><code>/map</code> ‚Äî –∫–∞—Ä—Ç–∞ –¥–µ—Ä–µ–≤–Ω–∏</li>
              <li><code>/friends</code> ‚Äî —Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π</li>
              <li><code>/build</code> ‚Äî –Ω–∞—á–∞—Ç—å —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ</li>
              <li><code>/boost</code> ‚Äî —É—Å–∫–æ—Ä–∏—Ç—å —Å—Ç—Ä–æ–π–∫—É (50 PHOEX)</li>
              <li><code>/events</code> ‚Äî —Ç–µ–∫—É—â–∏–µ –∏–≤–µ–Ω—Ç—ã</li>
            </ul>
          </div>
          <div class="instruction-section">
            <h4>üíé –ü–ª–∞—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã</h4>
            <p>–ö–æ–º–∞–Ω–¥—ã —Å –ø–æ–º–µ—Ç–∫–æ–π üíé —Ç—Ä–µ–±—É—é—Ç PHOEX-—Ç–æ–∫–µ–Ω—ã. –¢–æ–∫–µ–Ω—ã –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –≤ –∏–≤–µ–Ω—Ç–∞—Ö –∏–ª–∏ –∫—É–ø–∏—Ç—å —á–µ—Ä–µ–∑ StonFi.</p>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- XP-—Ç–æ—Å—Ç -->
  <div class="xp-toast" :class="{ show: xpToastVisible }">‚ú® {{ xpToastText }}</div>

  <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
  <div class="notif-area">
    <div class="notif-item" v-for="n in notifications" :key="n.id">{{ n.text }}</div>
  </div>

</div>

<script type="module" src="./src/main.js"></script>
</body>
</html>
