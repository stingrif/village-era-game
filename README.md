# Village Era — документация проекта

Единая точка входа в документацию. **Один источник на каждую тему:** меняем только в указанном файле, остальное — ссылки.

---

## Источники информации

| Тема | Единственный источник | Описание |
|------|------------------------|----------|
| **Механики игры** | [Инструкция/00_ОГЛАВЛЕНИЕ.md](Инструкция/00_ОГЛАВЛЕНИЕ.md) | Все механики (здания, шахта, крафт, рынок, вывод, эры и т.д.) — документы 01–25 в строгом порядке. Детали только там. |
| **Бэкенд** | [бэкенд/README.md](бэкенд/README.md) | Запуск, API, БД, Docker, скрипты, тесты. Внутри — ссылки на RUN_LOCAL, API_REFERENCE, СООТВЕТСТВИЕ_АРХИТЕКТУРЕ и др. |
| **Переменные окружения** | [ENV_README.md](ENV_README.md) — как задать; [бэкенд/env.example](бэкенд/env.example) — полный список ключей | Не дублировать списки переменных в других файлах. |
| **Для игроков** | [О_ИГРЕ_И_ПРАВИЛА.md](О_ИГРЕ_И_ПРАВИЛА.md) | Кратко: что за игра, как играть. Детали механик — в Инструкция (см. выше). |
| **Тестирование** | [docs/MEGA_AUDIT_REPORT.md](docs/MEGA_AUDIT_REPORT.md) | Как правильно тестировать проект, чеклист, запуск тестов. |

---

## Дополнительные материалы (только ссылки)

- **Призовой пул, турниры, взносы** — см. [Инструкция/00_ОГЛАВЛЕНИЕ.md](Инструкция/00_ОГЛАВЛЕНИЕ.md) → 07_Экономика_и_пулы, 12_Эры_и_сезоны. Детали env: [бэкенд/env.example](бэкенд/env.example) (PRIZE_POOL_*, PHXPW_PRICE_TON и др.).
- **Реликвии, предметы, редкости** — см. [Инструкция/00_ОГЛАВЛЕНИЕ.md](Инструкция/00_ОГЛАВЛЕНИЕ.md) → 02_Реликвии_и_эффекты, 19_Список_предметов.

---

## Точка входа и config.js

- **Единственная точка входа приложения:** [village-era-game-final.html](village-era-game-final.html). Открывайте именно этот файл (локально: `http://localhost:8080/village-era-game-final.html`). Если открывать другой HTML (например index.html), изменения в `village-era-game-final.html` не отобразятся.
- **config.js** генерируется из `.env` в папке Игра скриптом [generate_config.js](generate_config.js). В нём задаётся `window.GAME_API_BASE` для API. При смене API или после клонирования репозитория выполните в папке Игра: `node generate_config.js`. Без этого запросы к бэкенду могут не работать.
- Если изменения на странице не видны: жёсткое обновление (Ctrl+Shift+R / Cmd+Shift+R) или отключение кэша в DevTools; проверьте, что открыт village-era-game-final.html (в HTML есть комментарий с версией сборки).

---

## Правило актуальности

- Чтобы изменить описание механики — правка только в соответствующем файле **Инструкция** (01–25).
- Чтобы изменить описание API/запуска/БД — правка в **бэкенд** (README и указанные там файлы).
- Чтобы изменить список или описание переменных env — правка в **бэкенд/env.example** и при необходимости в **ENV_README.md**.

Не дублировать одни и те же сведения в нескольких документах.
