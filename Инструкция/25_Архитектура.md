# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Village Era

–°–≤–æ–¥–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞: –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö, —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –≤–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏. –î–µ—Ç–∞–ª–∏ –º–µ—Ö–∞–Ω–∏–∫ ‚Äî –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è—Ö (—Å–º. —Å—Å—ã–ª–∫–∏ –≤ –∫–æ–Ω—Ü–µ).

---

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞

- –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –≤ —Ü–µ–ª–æ–º.
- –°–≤—è–∑—å –º–µ–∂–¥—É –¥–æ–º–µ–Ω–∞–º–∏ (–∑–¥–∞–Ω–∏—è, —à–∞—Ö—Ç–∞, –≤—ã–≤–æ–¥, —Å—Ç–µ–π–∫–∏–Ω–≥, –±–ª–æ–∫—á–µ–π–Ω).
- –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ —Å–ª–æ—è–º, —Ç–∞–±–ª–∏—Ü–∞–º, –∫–æ–Ω—Ñ–∏–≥—É –∏ –∫—Ä–æ–Ω-–∑–∞–¥–∞—á–∞–º.

---

## –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

**Village Era** ‚Äî –∏–≥—Ä–∞ –≤ Telegram: –¥–µ—Ä–µ–≤–Ω—è, —à–∞—Ö—Ç–∞, —Ä–µ–ª–∏–∫–≤–∏–∏, –∫—Ä–∞—Ñ—Ç, —Ä—ã–Ω–æ–∫, –≤—ã–≤–æ–¥ –≤ TON. –¢–æ–∫–µ–Ω PHOEX/PHXPW; —Å—Ç–µ–π–∫–∏–Ω–≥ –∏ –≤—ã–ø–ª–∞—Ç—ã —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π –ø–ª–∞—Ç—ë–∂–Ω—ã–π —à–ª—é–∑.

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|------------|
| **–ö–ª–∏–µ–Ω—Ç (—Ñ—Ä–æ–Ω—Ç)** | Telegram Mini App; —ç–∫—Ä–∞–Ω—ã: –î–µ—Ä–µ–≤–Ω—è, –®–∞—Ö—Ç–∞, –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å, –ú–∞—Ä–∫–µ—Ç, –ü—Ä–æ—Ñ–∏–ª—å; –≤–µ—Ä—Ö–Ω–µ–µ –º–µ–Ω—é (–†–µ–π—Ç–∏–Ω–≥, –ù–∞–≥—Ä–∞–¥—ã, –ü—Ä–∞–≤–∏–ª–∞, –û –ø—Ä–æ–µ–∫—Ç–µ). |
| **API Gateway** | –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞: –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è /api –∏ /ws –Ω–∞ –±—ç–∫–µ–Ω–¥, /internal/health –∏ /internal/ready –Ω–∞ Health Check, —Ä–∞–∑–¥–∞—á–∞ —Å—Ç–∞—Ç–∏–∫–∏. |
| **Health Check (–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å)** | Liveness (/health) –∏ readiness (/ready) –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞; –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ë–î –∏ Redis. |
| **–ë—ç–∫–µ–Ω–¥ (API)** | REST API –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π; –ø—Ä–æ–≤–µ—Ä–∫–∏ (—É—Ä–æ–≤–µ–Ω—å, eligibility, risk); –≤—ã–∑–æ–≤ iCryptoCheck –¥–ª—è –≤—ã–≤–æ–¥–∞. |
| **–ë–î (PostgreSQL)** | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∑–¥–∞–Ω–∏—è, –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å, —à–∞—Ö—Ç–∞, –±–∞–ª–∞–Ω—Å—ã, —Ä—ã–Ω–æ–∫, –≤—ã–≤–æ–¥, —Å—Ç–µ–π–∫–∏–Ω–≥, –±–ª–æ–∫—á–µ–π–Ω-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –ª–∏–¥–µ—Ä–±–æ—Ä–¥—ã. |
| **–ö—Ä–æ–Ω-–∑–∞–¥–∞—á–∏** | –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥ —Å—Ç–µ–π–∫–∏–Ω–≥–∞, —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—Ç–µ–π–∫–æ–≤, –∞–≤—Ç–æ—Ä–µ–∏–Ω–≤–µ—Å—Ç; –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–ª–æ–∫—á–µ–π–Ω–∞ (TonAPI); –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ‚Äî —Ç–∏–∫–∏ Skyfall, –ø–µ—Ä–µ—Å—á—ë—Ç –ª–∏–¥–µ—Ä–±–æ—Ä–¥–æ–≤. |
| **iCryptoCheck** | –ü–ª–∞—Ç—ë–∂–Ω—ã–π —à–ª—é–∑: –ø—Ä–∏—ë–º –ø–ª–∞—Ç–µ–∂–µ–π, —Å–æ–∑–¥–∞–Ω–∏–µ –∞–¥—Ä–µ—Å–æ–≤ –¥–µ–ø–æ–∑–∏—Ç–∞, –≤—ã–≤–æ–¥ –Ω–∞ Telegram ID –∏–ª–∏ TON-–∞–¥—Ä–µ—Å. –õ–æ–≥–∏–∫–∞ —Å—Ç–µ–π–∫–∏–Ω–≥–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã–≤–æ–¥–∞ ‚Äî —É –Ω–∞—Å. |
| **TonAPI** | –ò—Å—Ç–æ—á–Ω–∏–∫ —Å–æ–±—ã—Ç–∏–π –±–ª–æ–∫—á–µ–π–Ω–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–æ—à–µ–ª—å–∫–æ–≤, –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–∏–≤—è–∑–∫–∏ –∏ –∑–∞—á—ë—Ç–∞ –≤ eligibility. |
| **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å secrets** | –í—ã–¥–∞—ë—Ç –∑–Ω–∞—á–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤ –ø–æ –∫–ª—é—á—É (GET /secret?key=) –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —Å–µ—Ä–≤–∏—Å–∞–º. –•—Ä–∞–Ω–∏–ª–∏—â–µ: env + SECRET_KEYS. –ü–æ—Ä—Ç 8003. –ö–æ–Ω—Ç—Ä–∞–∫—Ç: [04_–°–µ—Ä–≤–∏—Å_—Å–µ–∫—Ä–µ—Ç–æ–≤.md](–°–µ—Ä–≤–∏—Å—ã/04_–°–µ—Ä–≤–∏—Å_—Å–µ–∫—Ä–µ—Ç–æ–≤.md). |
| **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å auth** | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç Telegram initData (HMAC-SHA256), —Ä–µ–∑–æ–ª–≤–∏—Ç user_id —á–µ—Ä–µ–∑ ensure-user. POST /verify ‚Üí user_id –∏–ª–∏ 401. –ü–æ—Ä—Ç 8001. –ö–æ–Ω—Ç—Ä–∞–∫—Ç: [03_–°–µ—Ä–≤–∏—Å_–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.md](–°–µ—Ä–≤–∏—Å—ã/03_–°–µ—Ä–≤–∏—Å_–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏_–∏_–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.md). |
| **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å sessions** | –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–µ—Å—Å–∏–π –≤ Redis (create/refresh/invalidate/validate). TTL 24—á. –ü–æ—Ä—Ç 8002. –ö–æ–Ω—Ç—Ä–∞–∫—Ç: [02_–°–µ—Ä–≤–∏—Å_—Å–µ—Å—Å–∏–π.md](–°–µ—Ä–≤–∏—Å—ã/02_–°–µ—Ä–≤–∏—Å_—Å–µ—Å—Å–∏–π.md). |
| **–¢–∏–≥—Ä–∏—Ç (–î–µ—Ä–µ–≤–Ω—è –¢–∏–≥—Ä–∏—Ç)** | –ë–æ—Ç + –≤–µ–± (tigrit-api FastAPI + tigrit_shared + Admin API, tigrit-web Vite+nginx). –ü–æ–¥–¥–æ–º–µ–Ω tigrit.stakingphxpw.com. –í–∫–ª–∞–¥–∫–∏: –î–µ—Ä–µ–≤–Ω—è, –ò–≥—Ä–æ–∫–∏, –°–æ–±—ã—Ç–∏—è, –ú–∏—Ä, –û–±—â–µ–Ω–∏–µ, –ü—Ä–µ–¥–º–µ—Ç—ã, –†–µ–¥–∞–∫—Ç–æ—Ä, –ö–æ–º–∞–Ω–¥—ã, **–ê–¥–º–∏–Ω**. Admin API (X-Admin-Key): GET/PATCH village/user, activate, users?search=, status; GET/PATCH admin/survival/reports. SQL-–º–∏–≥—Ä–∞—Ü–∏–∏ –∞–≤—Ç–æ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ. –†–µ–∂–∏–º –≤–∏–¥–∞: TOP/3RD (—Ç–µ—Å—Ç), WASD, HP/–º–∞–Ω–∞/—Å–∫–∏–ª–ª—ã. Responsive: mobile/tablet. **Survival MMO:** –∑–æ–Ω—ã –∏–∑ –ë–î (zones), –ø—Ä–∏–≤—è–∑–∫–∞/—Å–º–µ–Ω–∞ –∑–æ–Ω—ã (zone/bind, zone/change), player/status, respawn; –ª–æ–∫–∞—Ü–∏–∏ –∏ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è (travel/start|current|arrive), location/loot (loot_tables); player_bases (–∞–ª–ª–æ–∫–∞—Ü–∏—è –ø—Ä–∏ bind), –∫–ª–∞–Ω—ã (create/join/contribute/betray); trust_score, survival_reports, trust_decay –≤ cron; —Ä–µ–π–¥—ã (POST /api/game/attack?raid_type=base), combat_sessions + combat/action (—Å–µ—Ä–≤–µ—Ä–Ω–∞—è –±–æ—ë–≤–∫–∞). –ë–æ—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç home_zone_first_activity_at –ø—Ä–∏ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –≤ —á–∞—Ç–µ-–∑–æ–Ω–µ. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [29_–†–µ–∂–∏–º_—Ç—Ä–µ—Ç—å–µ–≥–æ_–ª–∏—Ü–∞.md](29_–†–µ–∂–∏–º_—Ç—Ä–µ—Ç—å–µ–≥–æ_–ª–∏—Ü–∞.md), [30_Admin_API_–¢–∏–≥—Ä–∏—Ç.md](30_Admin_API_–¢–∏–≥—Ä–∏—Ç.md). |

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø–æ —ç–∫—Ä–∞–Ω–∞–º –∏ –∫–Ω–æ–ø–∫–∞–º: [15_–ö–∞—Ä—Ç–∞_–º–µ–Ω—é_–∏_UI.md](15_–ö–∞—Ä—Ç–∞_–º–µ–Ω—é_–∏_UI.md).

---

## –°–ª–æ–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Telegram Mini App (–∫–ª–∏–µ–Ω—Ç)                                      ‚îÇ
‚îÇ  –î–µ—Ä–µ–≤–Ω—è | –®–∞—Ö—Ç–∞ | –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å | –ú–∞—Ä–∫–µ—Ç | –ü—Ä–æ—Ñ–∏–ª—å                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ HTTP
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  API Gateway (nginx)                                             ‚îÇ
‚îÇ  —Å—Ç–∞—Ç–∏–∫–∞, /api, /ws ‚Üí –±—ç–∫–µ–Ω–¥; /internal/health, /internal/ready   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ                             ‚îÇ
        ‚îÇ /api, /ws                   ‚îÇ /internal/health, /internal/ready
        ‚ñº                             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ë—ç–∫–µ–Ω–¥ (API)         ‚îÇ   ‚îÇ  Health Check (–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å)          ‚îÇ
‚îÇ  checkin, mine_dig,   ‚îÇ   ‚îÇ  liveness, readiness (–ë–î, Redis)     ‚îÇ
‚îÇ  –±–∞–ª–∞–Ω—Å—ã, –∫—Ä–∞—Ñ—Ç,      ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ  —Ä—ã–Ω–æ–∫, –≤—ã–≤–æ–¥         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ SQL, HTTP
        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  PostgreSQL       ‚îÇ         ‚îÇ  –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã                   ‚îÇ
‚îÇ  Redis            ‚îÇ         ‚îÇ  iCryptoCheck, TonAPI               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚ñ≤
        ‚îÇ –ö—Ä–æ–Ω
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏: —Å—Ç–µ–π–∫–∏–Ω–≥ (–Ω–∞–≥—Ä–∞–¥—ã, UNSTAKED), –±–ª–æ–∫—á–µ–π–Ω-–º–æ–Ω–∏—Ç–æ—Ä  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### 1. –ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª (–ø—Ä–æ–≥—Ä–µ—Å—Å–∏—è)

- **–ß–µ–∫–∏–Ω** (checkin) ‚Üí –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ —à–∞—Ö—Ç—ã (3 –∑–∞ —Ä–∞–∑, CD 10 —á). –ó–∞–≤–∏—Å–∏—Ç –æ—Ç checkin_state, checkin_log, ads (–±–æ–Ω—É—Å –∫ CD). –°–º. [03_–®–∞—Ö—Ç–∞_–∏_—è–π—Ü–∞.md](03_–®–∞—Ö—Ç–∞_–∏_—è–π—Ü–∞.md), [09_–†–µ–∫–ª–∞–º–∞.md](09_–†–µ–∫–ª–∞–º–∞.md).
- **–®–∞—Ö—Ç–∞** (mine_create, mine_dig) ‚Üí –ª—É—Ç –≤ user_items / player_eggs / economy_ledger (–º–æ–Ω–µ—Ç—ã). –ü–æ–ø—ã—Ç–∫–∏ –∏–∑ attempts_balance. –°–º. [03_–®–∞—Ö—Ç–∞_–∏_—è–π—Ü–∞.md](03_–®–∞—Ö—Ç–∞_–∏_—è–π—Ü–∞.md).
- **–ó–¥–∞–Ω–∏—è** (player_field, user_buildings, building_slots) ‚Üí –¥–æ—Ö–æ–¥/—á–∞—Å, —Å–ª–æ—Ç—ã –¥–ª—è —Ä–µ–ª–∏–∫–≤–∏–π, –ø–∞—Å—Å–∏–≤—ã (skyfall, Defense Tier, curse). –î–æ—Ö–æ–¥ —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø–æ [07_–≠–∫–æ–Ω–æ–º–∏–∫–∞_–∏_–ø—É–ª—ã.md](07_–≠–∫–æ–Ω–æ–º–∏–∫–∞_–∏_–ø—É–ª—ã.md), –æ—Ñ—Ñ–ª–∞–π–Ω –∫–∞–ø 12 —á.
- **–ö—Ä–∞—Ñ—Ç** (merge/upgrade/reroll) ‚Üí –∏–∑–º–µ–Ω–µ–Ω–∏–µ user_items, —Å–ø–∏—Å–∞–Ω–∏–µ dust/coins+stars, crafting_log. –°–º. [05_–ö—Ä–∞—Ñ—Ç_–∏_—Å–ª–∏—è–Ω–∏–µ.md](05_–ö—Ä–∞—Ñ—Ç_–∏_—Å–ª–∏—è–Ω–∏–µ.md).
- **–†—ã–Ω–æ–∫ / P2P** ‚Üí market_orders, escrow_items, trade_offers; —Ä–∞—Å—á—ë—Ç—ã –∫–æ–º–∏—Å—Å–∏–π –∏ –±–∞–ª–∞–Ω—Å–æ–≤. –°–º. [11_–†—ã–Ω–æ–∫_–∏_P2P.md](11_–†—ã–Ω–æ–∫_–∏_P2P.md).

### 2. –í—ã–≤–æ–¥ TON

1. –ü—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ: —É—Ä–æ–≤–µ–Ω—å ‚â• 3, –ø—Ä–∏–≤—è–∑–∞–Ω –∫–æ—à–µ–ª—ë–∫, –Ω–µ restricted (risk_profile, token_compliance), –ø—Ä–∞–≤–∏–ª–æ 10% (withdraw_gating: completed_action_value_ton vs required_action_value_ton).
2. –ó–∞—á—ë—Ç –≤ eligibility: —Ä–µ–∫–ª–∞–º–∞, –≤–∫–ª–∞–¥ –≤ –ø—Ä–æ—Ñ–∏–ª—å, –±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, hold/–ø–æ–∫—É–ø–∫–∏ —Ç–æ–∫–µ–Ω–∞ (–ø–æ token_transactions). –°–º. [08_–í—ã–≤–æ–¥_–∏_–∞–Ω—Ç–∏—Ö–∞–ª—è–≤–∞.md](08_–í—ã–≤–æ–¥_–∏_–∞–Ω—Ç–∏—Ö–∞–ª—è–≤–∞.md).
3. –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ: –≤—ã–∑–æ–≤ iCryptoCheck `POST /app/transfer` (–Ω–∞ Telegram ID) –∏–ª–∏ `POST /app/withdrawal` (–Ω–∞ TON-–∞–¥—Ä–µ—Å). –ë–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ª–∏–º–∏—Ç—ã ‚Äî —É –Ω–∞—Å; iCryptoCheck —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç. –°–º. [23_–í—ã–≤–æ–¥_—á–µ—Ä–µ–∑_iCryptoCheck.md](23_–í—ã–≤–æ–¥_—á–µ—Ä–µ–∑_iCryptoCheck.md).

### 3. –°—Ç–µ–π–∫–∏–Ω–≥ —Ç–æ–∫–µ–Ω–∞

1. –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ ‚Üí –∑–∞–ø—Ä–æ—Å –∞–¥—Ä–µ—Å–∞ –¥–µ–ø–æ–∑–∏—Ç–∞ —á–µ—Ä–µ–∑ iCryptoCheck `POST /app/payment-addresses`; –∑–∞–ø–∏—Å—å –≤ staking_sessions (PENDING).
2. –ë–ª–æ–∫—á–µ–π–Ω-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –¥–µ–ø–æ–∑–∏—Ç ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ staking_sessions (ACCUMULATING, staked_amount).
3. –ö—Ä–æ–Ω –∫–∞–∂–¥—ã–π —á–∞—Å: –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥ (reward –ø–æ APY, —Ç–æ–ª—å–∫–æ ACCUMULATING) –≤ staking_reward_history; –ø–µ—Ä–µ–≤–æ–¥ LOCKED ‚Üí UNSTAKED –ø–æ lock_until; –∞–≤—Ç–æ—Ä–µ–∏–Ω–≤–µ—Å—Ç (—Ä–∞–∑ –≤ —Å—É—Ç–∫–∏).
4. –í—ã–≤–æ–¥ —Å—Ç–µ–π–∫–∞: –Ω–∞—à–∞ –ª–æ–≥–∏–∫–∞ (–∫–æ–º–∏—Å—Å–∏—è 6%, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ), –∑–∞—Ç–µ–º iCryptoCheck transfer/withdrawal. –°–º. [22_–°—Ç–µ–π–∫–∏–Ω–≥_—Ç–æ–∫–µ–Ω–∞.md](22_–°—Ç–µ–π–∫–∏–Ω–≥_—Ç–æ–∫–µ–Ω–∞.md), [23_–í—ã–≤–æ–¥_—á–µ—Ä–µ–∑_iCryptoCheck.md](23_–í—ã–≤–æ–¥_—á–µ—Ä–µ–∑_iCryptoCheck.md).

### 4. –ë–ª–æ–∫—á–µ–π–Ω-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è

- –ö—Ä–æ–Ω –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω): **monitor_wallets()** –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç TonAPI –ø–æ —Å–ø–∏—Å–∫—É –∞–¥—Ä–µ—Å–æ–≤ (–ø—Ä–æ–µ–∫—Ç, –ø—É–ª—ã).
- **process_transaction(tx)**: –ø–∞—Ä—Å–∏–Ω–≥ sender, recipient, —Å—É–º–º—ã, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è; –∑–∞–ø–∏—Å—å –≤ token_transactions; –ø—Ä–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ `verify:<user_id>` –∏–ª–∏ `ref:<user_id>` –∏ —Å—É–º–º–µ ‚â• 0.1 TON ‚Äî –ø—Ä–∏–≤—è–∑–∫–∞ –∫–æ—à–µ–ª—å–∫–∞ –∫ user_id (–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è –≤—ã–≤–æ–¥–∞).
- –î–∞–Ω–Ω—ã–µ token_transactions –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ withdraw_gating –∏ token_compliance (–ø—Ä–∞–≤–∏–ª–æ 10%, –¥–µ—Ç–µ–∫—Ç –ø—Ä–æ–¥–∞–∂–∏ —Ç–æ–∫–µ–Ω–∞). –°–º. [24_–ë–ª–æ–∫—á–µ–π–Ω_–∞–Ω–∞–ª–∏–∑.md](24_–ë–ª–æ–∫—á–µ–π–Ω_–∞–Ω–∞–ª–∏–∑.md).

### 5. –≠—Ä—ã –∏ —Å–µ–∑–æ–Ω—ã

- 1 —ç—Ä–∞ = 7 –¥–Ω–µ–π, —Å–µ–∑–æ–Ω = 4 —ç—Ä—ã. –ü–µ—Ä–µ–Ω–æ—Å —Ä–µ—Å—É—Ä—Å–æ–≤ –º–µ–∂–¥—É —ç—Ä–∞–º–∏ –∏ —Å–µ–∑–æ–Ω–∞–º–∏ (–º–æ–Ω–µ—Ç—ã 25%, —Ä–µ—Å—É—Ä—Å—ã 30%); –ª–∏–¥–µ—Ä–±–æ—Ä–¥—ã weekly/monthly/era; –≤—ã–ø–ª–∞—Ç—ã —Ç–æ–ø-3 –∏–∑ payout_pool. –°–º. [12_–≠—Ä—ã_–∏_—Å–µ–∑–æ–Ω—ã.md](12_–≠—Ä—ã_–∏_—Å–µ–∑–æ–Ω—ã.md), [07_–≠–∫–æ–Ω–æ–º–∏–∫–∞_–∏_–ø—É–ª—ã.md](07_–≠–∫–æ–Ω–æ–º–∏–∫–∞_–∏_–ø—É–ª—ã.md).

---

## –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö (–ë–î)

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü –∏ —Å–∏–≥–Ω–∞—Ç—É—Ä —Ñ—É–Ω–∫—Ü–∏–π ‚Äî –≤ [18_Dev_—Ç–∞–±–ª–∏—Ü—ã_–∏_—Ñ–æ—Ä–º—É–ª—ã.md](18_Dev_—Ç–∞–±–ª–∏—Ü—ã_–∏_—Ñ–æ—Ä–º—É–ª—ã.md). –ù–∏–∂–µ ‚Äî –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–æ–º–µ–Ω–∞–º.

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ –ø—Ä–æ—Ñ–∏–ª—å

- **users**, **user_profile** (–≤ —Ç.—á. ads_enabled, checkin_cd_bonus_minutes)
- **user_balances** ‚Äî –±–∞–ª–∞–Ω—Å—ã –ø–æ –≤–∞–ª—é—Ç–∞–º (COINS, STARS, DIAMONDS –∏ —Ç.–¥.)
- **user_identities**, **account_links**, **risk_profile**, **user_flags**, **admin_users**, **access_policy**

### –î–µ—Ä–µ–≤–Ω—è –∏ –∑–¥–∞–Ω–∏—è

- **buildings_def** ‚Äî —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∑–¥–∞–Ω–∏–π (key, config JSONB)
- **player_field** ‚Äî —á—Ç–æ —Å—Ç–æ–∏—Ç –Ω–∞ –ø–æ–ª–µ (user_id, slot_index, building_key)
- **user_buildings** ‚Äî —É—Ä–æ–≤–Ω–∏ –∏ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –ø–æ –∑–¥–∞–Ω–∏—è–º
- **building_slots** ‚Äî –ø—Ä–∏–≤—è–∑–∫–∞ —Ä–µ–ª–∏–∫–≤–∏–π –∫ —Å–ª–æ—Ç–∞–º –∑–¥–∞–Ω–∏–π
- **demolish_log**

### –ü—Ä–µ–¥–º–µ—Ç—ã –∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å

- **item_defs** ‚Äî —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ (—Ä–µ–ª–∏–∫–≤–∏–∏, –∞–º—É–ª–µ—Ç—ã, –±–∞—Ñ—ã, –ø–æ—Ä—á–∏; allowed_buildings, effects_json, is_deep_pool)
- **user_items** ‚Äî –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –∏–≥—Ä–æ–∫–∞ (item_def_id, state, item_level, meta)
- **eggs_def**, **player_eggs**
- **curse_log**, **user_effects**, **user_sanctions**

### –®–∞—Ö—Ç–∞ –∏ —á–µ–∫–∏–Ω

- **mine_sessions** ‚Äî —Å–µ—Ç–∫–∞ 6√ó6, –ø—Ä–∏–∑–æ–≤—ã–µ —è—á–µ–π–∫–∏, seed
- **dig_log** ‚Äî –∫–∞–∂–¥–∞—è –∫–æ–ø–∫–∞ (—Ä–µ–∑—É–ª—å—Ç–∞—Ç, ip_hash, device_hash, vpn_flag –¥–ª—è –∞–Ω—Ç–∏–±–æ—Ç–∞)
- **attempts_balance** ‚Äî –ø–æ–ø—ã—Ç–∫–∏ –∫–æ–ø–∞–Ω–∏—è
- **checkin_state**, **checkin_log**

### –≠–∫–æ–Ω–æ–º–∏–∫–∞ –∏ —Ä—ã–Ω–æ–∫

- **economy_ledger** ‚Äî –≤—Å–µ –¥–≤–∏–∂–µ–Ω–∏—è –ø–æ –≤–∞–ª—é—Ç–∞–º (ref_type, ref_id, idem_key –¥–ª—è –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏)
- **market_orders**, **market_order_items**, **escrow_items**, **trade_offers**, **trade_offer_items**
- **currencies**, **exchange_rates**

### –í—ã–≤–æ–¥ –∏ –∞–Ω—Ç–∏—Ö–∞–ª—è–≤–∞

- **withdraw_gating** ‚Äî required_action_value_ton, completed_action_value_ton, status (open|ready|blocked)
- **token_compliance** ‚Äî —Å—Ç–∞—Ç—É—Å –ø–æ –ø—Ä–æ–¥–∞–∂–µ —Ç–æ–∫–µ–Ω–∞, deadline_at, snapshot_json
- **donations**, **donation_leaderboard_cache**
- **ad_log** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä—ã —Ä–µ–∫–ª–∞–º—ã (–¥–ª—è –∑–∞—á—ë—Ç–∞ –≤ eligibility)

### –°—Ç–µ–π–∫–∏–Ω–≥ –∏ –±–ª–æ–∫—á–µ–π–Ω

- **staking_sessions** ‚Äî user_id, staked_amount, accrued_rewards, status (PENDING|ACCUMULATING|LOCKED|UNSTAKED), lock_until, plan_id, payment_address, lock_requested_at
- **staking_reward_history** ‚Äî session_id, reward_amount, calculated_at
- **token_transactions** ‚Äî tx_hash, user_id, wallet_address, amount, direction, block_timestamp

### –°–æ–±—ã—Ç–∏—è –∏ –ª–∏–¥–µ—Ä–±–æ—Ä–¥—ã

- **game_events** ‚Äî —Ç–∏–ø—ã: checkin_granted, mine_click, loot_drop, craft_result, curse_applied, sanction_started, withdraw_requested, skyfall_tick –∏ –¥—Ä.
- **leaderboards** ‚Äî period (weekly|monthly|era), period_key, user_id, points
- **crafting_log**

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Master config (JSON)

- **game.field** ‚Äî maxBuildingsPlaced (9), demolishRefundRate (0.25)
- **game.mine** ‚Äî gridSize (36), checkin (cooldownHours 10, attemptsPerClaim 3), prizeCellsDistribution, prizeCellLoot, eggRoll
- **game.eggs** ‚Äî —Ü–≤–µ—Ç–∞ –∏ –≤–µ—Å–∞ –¥–ª—è —è–∏—Ü

–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã ‚Äî –≤ [18_Dev_—Ç–∞–±–ª–∏—Ü—ã_–∏_—Ñ–æ—Ä–º—É–ª—ã.md](18_Dev_—Ç–∞–±–ª–∏—Ü—ã_–∏_—Ñ–æ—Ä–º—É–ª—ã.md).

### game_rules (–∫–ª—é—á–∏ –∫–æ–Ω—Ñ–∏–≥–∞)

- **checkin_rules** ‚Äî baseCdMinutes, minCdMinutes, grantedAttempts, resetBonusMinutesAfterCheckin, riskEarlyWindowSeconds
- **mine_rules** ‚Äî gridSize, eggChancePerDig, prizeCellsDist, rarityWeights10x, prizeTypeWeights
- **ads_rules** ‚Äî enabledIncomeMultIfAdsOff (0.5), checkinCdBonus, checkinCdBonusCapMinutes, dailyAdCap
- **donation_rules** ‚Äî donationPoints (STARS/DIAMONDS), leaderboards
- **withdraw_credit_rules** ‚Äî donationTonEq –¥–ª—è –∑–∞—á—ë—Ç–∞ –≤ –ø—Ä–∞–≤–∏–ª–æ 10%

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (env)

- **–ë–î:** DATABASE_URL (PostgreSQL)
- **–ò–≥—Ä–∞:** GAME_NOTIFY_BOT_TOKEN, PHOENIX_QUEST_*, POINTS_PER_TON, MIN_BURN_COUNT_FOR_PHOENIX_QUEST –∏ –¥—Ä.
- **–ö–∞–Ω–∞–ª—ã/—á–∞—Ç—ã:** PHOEX_CHANNEL_ID, PHOEX_CHAT_ID, PHOENIX_REWARD_CHANNEL_LINK, WHALES_CHAT_ID –∏ –¥—Ä. ‚Äî –¥–ª—è –∑–∞–¥–∞–Ω–∏–π –∏ —ç–∫—Ä–∞–Ω–∞ ¬´–û –ø—Ä–æ–µ–∫—Ç–µ¬ª. –°–º. [15_–ö–∞—Ä—Ç–∞_–º–µ–Ω—é_–∏_UI.md](15_–ö–∞—Ä—Ç–∞_–º–µ–Ω—é_–∏_UI.md).
- **–ö–æ—à–µ–ª—å–∫–∏ (iCryptoCheck):** PROJECT_WALLET_ID, PROJECT_WALLET_ADDRESS, USER_PAYOUTS_WALLET_ID, STAKING_POOL_WALLET_ID, BURN_WALLET_ID, HOLDERS_REWARDS_WALLET_ID –∏ –¥—Ä. –°–º. [23_–í—ã–≤–æ–¥_—á–µ—Ä–µ–∑_iCryptoCheck.md](23_–í—ã–≤–æ–¥_—á–µ—Ä–µ–∑_iCryptoCheck.md), –±—ç–∫–µ–Ω–¥/env.example.
- **–ö–æ–º–∏—Å—Å–∏–∏ –∏ —Å—Ç–µ–π–∫–∏–Ω–≥:** TRANSACTION_FEE_PERCENT, COMMISSION_*, EARLY_UNSTAKE_FEE, ICRYPTOCHECK_TOKEN_SYMBOL
- **TonAPI:** TON_API_KEY (–¥–ª—è –±–ª–æ–∫—á–µ–π–Ω-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞)

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: ENV_README.md –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞, –±—ç–∫–µ–Ω–¥/env.example.

---

## –í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### iCryptoCheck

| –†–æ–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| –ü–ª–∞—Ç—ë–∂–Ω—ã–π —à–ª—é–∑ | –ü—Ä–∏—ë–º TON/—Ç–æ–∫–µ–Ω–æ–≤, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø–µ—Ä–µ–≤–æ–¥—ã –ø–æ –∑–∞–ø—Ä–æ—Å—É –±—ç–∫–µ–Ω–¥–∞. |
| API | POST /app/transfer (–Ω–∞ Telegram ID), POST /app/withdrawal (–Ω–∞ TON-–∞–¥—Ä–µ—Å), GET /app/info (–±–∞–ª–∞–Ω—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è), POST /app/payment-addresses (–∞–¥—Ä–µ—Å –¥–µ–ø–æ–∑–∏—Ç–∞ –¥–ª—è —Å—Ç–µ–π–∫–∏–Ω–≥–∞). |
| –ù–∞ –Ω–∞—à–µ–π —Å—Ç–æ—Ä–æ–Ω–µ | –ë–∞–ª–∞–Ω—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∏—Å—Ç–æ—Ä–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ eligibility, –ø—Ä–∞–≤–∏–ª–æ 10%, risk, –ª–∏–º–∏—Ç—ã –≤—ã–≤–æ–¥–∞, –ª–æ–≥–∏–∫–∞ —Å—Ç–µ–π–∫–∏–Ω–≥–∞ (—Ñ–∞–∑—ã, –Ω–∞–≥—Ä–∞–¥—ã, –∫–æ–º–∏—Å—Å–∏—è 6%). |

–°–º. [23_–í—ã–≤–æ–¥_—á–µ—Ä–µ–∑_iCryptoCheck.md](23_–í—ã–≤–æ–¥_—á–µ—Ä–µ–∑_iCryptoCheck.md), [22_–°—Ç–µ–π–∫–∏–Ω–≥_—Ç–æ–∫–µ–Ω–∞.md](22_–°—Ç–µ–π–∫–∏–Ω–≥_—Ç–æ–∫–µ–Ω–∞.md).

### TonAPI

- –ò—Å—Ç–æ—á–Ω–∏–∫ —Å–æ–±—ã—Ç–∏–π –ø–æ –∫–æ—à–µ–ª—å–∫–∞–º (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ TON/Jetton).
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ **monitor_wallets()** ‚Üí **process_transaction()** ‚Üí –∑–∞–ø–∏—Å—å –≤ **token_transactions**, –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ—à–µ–ª—å–∫–æ–≤ (verify/ref), –∑–∞—á—ë—Ç –≤ eligibility –∏ token_compliance.

–°–º. [24_–ë–ª–æ–∫—á–µ–π–Ω_–∞–Ω–∞–ª–∏–∑.md](24_–ë–ª–æ–∫—á–µ–π–Ω_–∞–Ω–∞–ª–∏–∑.md).

---

## –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ (–∫—Ä–æ–Ω)

| –ó–∞–¥–∞—á–∞ | –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ | –î–µ–π—Å—Ç–≤–∏–µ |
|--------|------------|----------|
| –°—Ç–µ–π–∫–∏–Ω–≥: –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥ | –ö–∞–∂–¥—ã–π —á–∞—Å | –ü–æ —Ñ–æ—Ä–º—É–ª–µ APY —Ç–æ–ª—å–∫–æ –¥–ª—è status = ACCUMULATING; –∑–∞–ø–∏—Å—å –≤ staking_reward_history. |
| –°—Ç–µ–π–∫–∏–Ω–≥: —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ | –ö–∞–∂–¥—ã–π —á–∞—Å | LOCKED –∏ lock_until ‚â§ now ‚Üí UNSTAKED. |
| –°—Ç–µ–π–∫–∏–Ω–≥: –∞–≤—Ç–æ—Ä–µ–∏–Ω–≤–µ—Å—Ç | –†–∞–∑ –≤ —Å—É—Ç–∫–∏ | 94% accrued_rewards ‚Üí staked_amount, accrued_rewards = 0. |
| –ë–ª–æ–∫—á–µ–π–Ω-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ | –ù–∞–ø—Ä. –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω | monitor_wallets() ‚Üí process_transaction() ‚Üí token_transactions, –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è. |
| –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ | –ü–æ –∫–æ–Ω—Ñ–∏–≥—É | –¢–∏–∫–∏ Skyfall (–ø–æ—Ç–µ—Ä–∏ –ø–æ —Å—É–±–±–æ—Ç–∞–º), –ø–µ—Ä–µ—Å—á—ë—Ç/–∞–≥—Ä–µ–≥–∞—Ü–∏—è leaderboards (weekly, monthly, era). |

–î–µ—Ç–∞–ª–∏ —Å—Ç–µ–π–∫–∏–Ω–≥–∞: [22_–°—Ç–µ–π–∫–∏–Ω–≥_—Ç–æ–∫–µ–Ω–∞.md](22_–°—Ç–µ–π–∫–∏–Ω–≥_—Ç–æ–∫–µ–Ω–∞.md). –ë–ª–æ–∫—á–µ–π–Ω: [24_–ë–ª–æ–∫—á–µ–π–Ω_–∞–Ω–∞–ª–∏–∑.md](24_–ë–ª–æ–∫—á–µ–π–Ω_–∞–Ω–∞–ª–∏–∑.md). Skyfall: [06_–ü–∞–¥–µ–Ω–∏–µ_–Ω–µ–±–∞.md](06_–ü–∞–¥–µ–Ω–∏–µ_–Ω–µ–±–∞.md).

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å

- **economy_ledger:** —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ idem_key (WHERE NOT NULL); –≤—Å–µ –¥–µ–Ω–µ–∂–Ω—ã–µ –∏ escrow-–æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥–∞—é—Ç idem_key.
- **–†–∏—Å–∫ –∏ —Å–∞–Ω–∫—Ü–∏–∏:** risk_profile (risk_score, vpn_hits, multi_account_hits), token_compliance (–ø—Ä–æ–¥–∞–∂–∞ —Ç–æ–∫–µ–Ω–∞), user_sanctions; –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤—ã–≤–æ–¥–∞ –∏ –º–∞—Ä–∫–µ—Ç–∞ –ø–æ —Å—Ç–∞—Ç—É—Å—É. –°–º. [13_–ê–Ω—Ç–∏–±–æ—Ç_–∏_—Å–∞–Ω–∫—Ü–∏–∏.md](13_–ê–Ω—Ç–∏–±–æ—Ç_–∏_—Å–∞–Ω–∫—Ü–∏–∏.md).
- **–ü—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã–≤–æ–¥–∞:** —É—Ä–æ–≤–µ–Ω—å ‚â• 3, –ø—Ä–∏–≤—è–∑–∞–Ω –∫–æ—à–µ–ª—ë–∫, –Ω–µ restricted, –ø—Ä–∞–≤–∏–ª–æ 10% ‚Äî –≤—Å–µ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ –¥–æ –≤—ã–∑–æ–≤–∞ iCryptoCheck. –°–º. [08_–í—ã–≤–æ–¥_–∏_–∞–Ω—Ç–∏—Ö–∞–ª—è–≤–∞.md](08_–í—ã–≤–æ–¥_–∏_–∞–Ω—Ç–∏—Ö–∞–ª—è–≤–∞.md).

---

## –ö–∞—Ä—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ –¥–æ–º–µ–Ω–∞–º

| –î–æ–º–µ–Ω | –î–æ–∫—É–º–µ–Ω—Ç |
|-------|----------|
| –ó–¥–∞–Ω–∏—è, –ø–æ–ª–µ, –∑–∞–¥–∞–Ω–∏—è | [01_–ó–¥–∞–Ω–∏—è_–∏_–∑–∞–¥–∞–Ω–∏—è.md](01_–ó–¥–∞–Ω–∏—è_–∏_–∑–∞–¥–∞–Ω–∏—è.md) |
| –†–µ–ª–∏–∫–≤–∏–∏, —ç—Ñ—Ñ–µ–∫—Ç—ã, Deep Pool | [02_–†–µ–ª–∏–∫–≤–∏–∏_–∏_—ç—Ñ—Ñ–µ–∫—Ç—ã.md](02_–†–µ–ª–∏–∫–≤–∏–∏_–∏_—ç—Ñ—Ñ–µ–∫—Ç—ã.md) |
| –®–∞—Ö—Ç–∞, —è–π—Ü–∞, –ø–æ–ø—ã—Ç–∫–∏ | [03_–®–∞—Ö—Ç–∞_–∏_—è–π—Ü–∞.md](03_–®–∞—Ö—Ç–∞_–∏_—è–π—Ü–∞.md) |
| –ë–∞—Ñ—ã, –ø–æ—Ä—á–∏, Defense Tier | [04_–ë–∞—Ñ—ã_–∏_–ø–æ—Ä—á–∏.md](04_–ë–∞—Ñ—ã_–∏_–ø–æ—Ä—á–∏.md) |
| –ö—Ä–∞—Ñ—Ç, —Å–ª–∏—è–Ω–∏–µ | [05_–ö—Ä–∞—Ñ—Ç_–∏_—Å–ª–∏—è–Ω–∏–µ.md](05_–ö—Ä–∞—Ñ—Ç_–∏_—Å–ª–∏—è–Ω–∏–µ.md) |
| –ü–∞–¥–µ–Ω–∏–µ –Ω–µ–±–∞ (Skyfall) | [06_–ü–∞–¥–µ–Ω–∏–µ_–Ω–µ–±–∞.md](06_–ü–∞–¥–µ–Ω–∏–µ_–Ω–µ–±–∞.md) |
| –≠–∫–æ–Ω–æ–º–∏–∫–∞, –ø—É–ª—ã, –≤—ã–ø–ª–∞—Ç—ã —Ç–æ–ø-3 | [07_–≠–∫–æ–Ω–æ–º–∏–∫–∞_–∏_–ø—É–ª—ã.md](07_–≠–∫–æ–Ω–æ–º–∏–∫–∞_–∏_–ø—É–ª—ã.md) |
| –í—ã–≤–æ–¥, –ø—Ä–∞–≤–∏–ª–æ 10%, withdraw_gating | [08_–í—ã–≤–æ–¥_–∏_–∞–Ω—Ç–∏—Ö–∞–ª—è–≤–∞.md](08_–í—ã–≤–æ–¥_–∏_–∞–Ω—Ç–∏—Ö–∞–ª—è–≤–∞.md) |
| –†–µ–∫–ª–∞–º–∞, CD —á–µ–∫–∏–Ω–∞ | [09_–†–µ–∫–ª–∞–º–∞.md](09_–†–µ–∫–ª–∞–º–∞.md) |
| –í–∫–ª–∞–¥ –≤ –ø—Ä–æ—Ñ–∏–ª—å, ¬´–°–∞–º—ã–µ —Å–µ—Ä–¥–µ—á–Ω—ã–µ¬ª | [10_–í–∫–ª–∞–¥_–≤_–ø—Ä–æ—Ñ–∏–ª—å.md](10_–í–∫–ª–∞–¥_–≤_–ø—Ä–æ—Ñ–∏–ª—å.md) |
| –†—ã–Ω–æ–∫, P2P, escrow | [11_–†—ã–Ω–æ–∫_–∏_P2P.md](11_–†—ã–Ω–æ–∫_–∏_P2P.md) |
| –≠—Ä—ã, —Å–µ–∑–æ–Ω—ã, –ª–∏–¥–µ—Ä–±–æ—Ä–¥—ã | [12_–≠—Ä—ã_–∏_—Å–µ–∑–æ–Ω—ã.md](12_–≠—Ä—ã_–∏_—Å–µ–∑–æ–Ω—ã.md) |
| –ê–Ω—Ç–∏–±–æ—Ç, —Å–∞–Ω–∫—Ü–∏–∏, risk_score | [13_–ê–Ω—Ç–∏–±–æ—Ç_–∏_—Å–∞–Ω–∫—Ü–∏–∏.md](13_–ê–Ω—Ç–∏–±–æ—Ç_–∏_—Å–∞–Ω–∫—Ü–∏–∏.md) |
| –í–∞–ª—é—Ç–∞, –æ–±–º–µ–Ω ‚≠ê‚Üîüíé | [14_–í–∞–ª—é—Ç–∞_–∏_–æ–±–º–µ–Ω.md](14_–í–∞–ª—é—Ç–∞_–∏_–æ–±–º–µ–Ω.md) |
| –ú–µ–Ω—é, UI, —ç–∫—Ä–∞–Ω ¬´–û –ø—Ä–æ–µ–∫—Ç–µ¬ª | [15_–ö–∞—Ä—Ç–∞_–º–µ–Ω—é_–∏_UI.md](15_–ö–∞—Ä—Ç–∞_–º–µ–Ω—é_–∏_UI.md) |
| –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ | [16_–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è_—Å–∏—Å—Ç–µ–º–∞.md](16_–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è_—Å–∏—Å—Ç–µ–º–∞.md) |
| –°–∫—Ä—ã—Ç—ã–π –∫–≤–µ—Å—Ç –§–ï–ù–ò–ö–° | [17_–°–∫—Ä—ã—Ç—ã–π_–∫–≤–µ—Å—Ç_–§–ï–ù–ò–ö–°.md](17_–°–∫—Ä—ã—Ç—ã–π_–∫–≤–µ—Å—Ç_–§–ï–ù–ò–ö–°.md) |
| –¢–∞–±–ª–∏—Ü—ã –ë–î, –∫–æ–Ω—Ñ–∏–≥, —Ñ—É–Ω–∫—Ü–∏–∏ | [18_Dev_—Ç–∞–±–ª–∏—Ü—ã_–∏_—Ñ–æ—Ä–º—É–ª—ã.md](18_Dev_—Ç–∞–±–ª–∏—Ü—ã_–∏_—Ñ–æ—Ä–º—É–ª—ã.md) |
| –°–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ (ID, –Ω–∞–∑–≤–∞–Ω–∏—è) | [19_–°–ø–∏—Å–æ–∫_–ø—Ä–µ–¥–º–µ—Ç–æ–≤.md](19_–°–ø–∏—Å–æ–∫_–ø—Ä–µ–¥–º–µ—Ç–æ–≤.md) |
| –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ—Ö–∞–Ω–∏–∫ | [20_–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏_–º–µ—Ö–∞–Ω–∏–∫.md](20_–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏_–º–µ—Ö–∞–Ω–∏–∫.md) |
| –ò—Å—Ç–æ—Ä–∏—è –º–∏—Ä–∞ (–ª–æ—Ä) | [21_–ò—Å—Ç–æ—Ä–∏—è_–º–∏—Ä–∞.md](21_–ò—Å—Ç–æ—Ä–∏—è_–º–∏—Ä–∞.md) |
| –°—Ç–µ–π–∫–∏–Ω–≥ —Ç–æ–∫–µ–Ω–∞ | [22_–°—Ç–µ–π–∫–∏–Ω–≥_—Ç–æ–∫–µ–Ω–∞.md](22_–°—Ç–µ–π–∫–∏–Ω–≥_—Ç–æ–∫–µ–Ω–∞.md) |
| –í—ã–≤–æ–¥ —á–µ—Ä–µ–∑ iCryptoCheck | [23_–í—ã–≤–æ–¥_—á–µ—Ä–µ–∑_iCryptoCheck.md](23_–í—ã–≤–æ–¥_—á–µ—Ä–µ–∑_iCryptoCheck.md) |
| –ë–ª–æ–∫—á–µ–π–Ω-–∞–Ω–∞–ª–∏–∑ | [24_–ë–ª–æ–∫—á–µ–π–Ω_–∞–Ω–∞–ª–∏–∑.md](24_–ë–ª–æ–∫—á–µ–π–Ω_–∞–Ω–∞–ª–∏–∑.md) |
| –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ | [00_–û–ì–õ–ê–í–õ–ï–ù–ò–ï.md](00_–û–ì–õ–ê–í–õ–ï–ù–ò–ï.md) |

–î–µ—Ç–∞–ª–∏ –º–µ—Ö–∞–Ω–∏–∫ –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å: —Ç–æ–ª—å–∫–æ –≤ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è. –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞ ‚Äî –≤ –±—ç–∫–µ–Ω–¥ [–°–û–û–¢–í–ï–¢–°–¢–í–ò–ï_–ê–†–•–ò–¢–ï–ö–¢–£–†–ï.md](../–±—ç–∫–µ–Ω–¥/–°–û–û–¢–í–ï–¢–°–¢–í–ò–ï_–ê–†–•–ò–¢–ï–ö–¢–£–†–ï.md).
